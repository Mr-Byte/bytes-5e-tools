(()=>{var t={926:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(15),s=n.n(r),o=n(645),i=n.n(o)()(s());i.push([t.id,".active-status-effect-settings .container-grid {\n  display: grid;\n  grid-template-rows: 1fr auto 1fr;\n  row-gap: 4px;\n  position: absolute;\n  top: 30px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 8px;\n}\n.active-status-effect-settings .container-grid .status-effects-container {\n  overflow: auto;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect {\n  display: grid;\n  grid-template-columns: 32px auto 32px;\n  grid-template-rows: auto auto;\n  border-bottom: 1px solid #c9c7b8;\n  column-gap: 4px;\n  row-gap: 4px;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-icon {\n  border: none;\n  width: auto;\n  height: auto;\n  justify-self: center;\n  align-self: center;\n  padding: 2px 0 2px 0;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-name {\n  justify-self: left;\n  align-self: center;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-name h3 {\n  padding: 0;\n  margin: 0;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-controls {\n  justify-self: center;\n  align-self: center;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings {\n  grid-column: 1 / span 3;\n  padding: 4px;\n}\n.active-status-effect-settings .container-grid footer {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 2px;\n}\n","",{version:3,sources:["webpack://./styles/active-status-effects-settings.less"],names:[],mappings:"AAEA;EAEI,aAAA;EACA,gCAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;AAFJ;AARA;EAaM,cAAA;AAFN;AAXA;EAgBQ,aAAA;EACA,qCAAA;EACA,6BAAA;EACA,gCAAA;EACA,eAAA;EACA,YAAA;AAFR;AAnBA;EAwBU,YAAA;EACA,WAAA;EACA,YAAA;EACA,oBAAA;EACA,kBAAA;EACA,oBAAA;AAFV;AA3BA;EAiCU,kBAAA;EACA,kBAAA;AAHV;AA/BA;EAqCY,UAAA;EACA,SAAA;AAHZ;AAnCA;EA2CU,oBAAA;EACA,kBAAA;AALV;AAvCA;EAgDU,uBAAA;EACA,YAAA;AANV;AA3CA;EAuDM,aAAA;EACA,8BAAA;EACA,eAAA;AATN",sourcesContent:["@effect-icon-size: 32px;\n\n.active-status-effect-settings {\n  .container-grid {\n    display: grid;\n    grid-template-rows: 1fr auto 1fr;\n    row-gap: 4px;\n    position: absolute;\n    top: 30px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 8px;\n\n    .status-effects-container {\n      overflow: auto;\n\n      .status-effect {\n        display: grid;\n        grid-template-columns: @effect-icon-size auto 32px;\n        grid-template-rows: auto auto;\n        border-bottom: 1px solid #c9c7b8;\n        column-gap: 4px;\n        row-gap: 4px;\n\n        .status-effect-icon {\n          border: none;\n          width: auto;\n          height: auto;\n          justify-self: center;\n          align-self: center;\n          padding: 2px 0 2px 0;\n        }\n\n        .status-effect-name {\n          justify-self: left;\n          align-self: center;\n\n          h3 {\n            padding: 0;\n            margin: 0;\n          }\n        }\n\n        .status-effect-controls {\n          justify-self: center;\n          align-self: center;\n        }\n\n        .status-effect-settings {\n          grid-column: 1 / span 3;\n          padding: 4px;\n        }\n      }\n    }\n\n    footer {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      column-gap: 2px;\n    }\n  }\n}\n"],sourceRoot:""}]);const a=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(s[i]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&s[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,s=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){s=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[1],i=s[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),f="/*# ".concat(c," */"),u=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([f]).join("\n")}return[o].join("\n")}},468:(t,e,n)=>{var r,s="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/,a=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,A=p||d||Function("return this")(),g=Array.prototype,h=Function.prototype,v=Object.prototype,y=A["__core-js_shared__"],m=(r=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",b=h.toString,_=v.hasOwnProperty,E=v.toString,C=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=A.Symbol,w=g.splice,S=B(A,"Map"),j=B(Object,"create"),x=O?O.prototype:void 0,M=x?x.toString:void 0;function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(t,e,n){var r=t[e];_.call(t,e)&&G(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function I(t,e){for(var n=t.length;n--;)if(G(t[n][0],e))return n;return-1}function U(t,e){var n,r,s=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof e?"string":"hash"]:s.map}function B(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!R(t)||(e=t,m&&m in e))&&(function(t){var e=R(t)?E.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:u).test(function(t){if(null!=t){try{return b.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(n)?n:void 0}function D(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}T.prototype.clear=function(){this.__data__=j?j(null):{}},T.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},T.prototype.get=function(t){var e=this.__data__;if(j){var n=e[t];return n===s?void 0:n}return _.call(e,t)?e[t]:void 0},T.prototype.has=function(t){var e=this.__data__;return j?void 0!==e[t]:_.call(e,t)},T.prototype.set=function(t,e){return this.__data__[t]=j&&void 0===e?s:e,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(t){var e=this.__data__,n=I(e,t);return!(n<0||(n==e.length-1?e.pop():w.call(e,n,1),0))},N.prototype.get=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]},N.prototype.has=function(t){return I(this.__data__,t)>-1},N.prototype.set=function(t,e){var n=this.__data__,r=I(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},F.prototype.clear=function(){this.__data__={hash:new T,map:new(S||N),string:new T}},F.prototype.delete=function(t){return U(this,t).delete(t)},F.prototype.get=function(t){return U(this,t).get(t)},F.prototype.has=function(t){return U(this,t).has(t)},F.prototype.set=function(t,e){return U(this,t).set(t,e),this};var L=P((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Y(t))return M?M.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return a.test(t)&&n.push(""),t.replace(c,(function(t,e,r,s){n.push(r?s.replace(f,"$1"):e||t)})),n}));function $(t){if("string"==typeof t||Y(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function P(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=t.apply(this,r);return n.cache=o.set(s,i),i};return n.cache=new(P.Cache||F),n}function G(t,e){return t===e||t!=t&&e!=e}P.Cache=F;var H=Array.isArray;function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Y(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==E.call(t)}t.exports=function(t,e,n){return null==t?t:function(t,e,n,r){if(!R(t))return t;for(var s=-1,a=(e=function(t,e){if(H(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Y(t))||i.test(t)||!o.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return H(t)?t:L(t)}(e)).length,c=a-1,f=t;null!=f&&++s<a;){var u=$(e[s]),l=n;if(s!=c){var p=f[u];void 0===(l=r?r(p,u,f):void 0)&&(l=R(p)?p:D(e[s+1])?[]:{})}k(f,u,l),f=f[u]}return t}(t,e,n)}},909:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(379),s=n.n(r),o=n(926);s()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},379:(t,e,n)=>{"use strict";var r,s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function i(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},r=[],s=0;s<t.length;s++){var a=t[s],c=e.base?a[0]+e.base:a[0],f=n[c]||0,u="".concat(c," ").concat(f);n[c]=f+1;var l=i(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(p)):o.push({identifier:u,updater:g(p,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var i=s(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var f,u=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function l(t,e,n,r){var s=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,s);else{var o=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,s=n.media,o=n.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,A=0;function g(t,e){var n,r,s;if(e.singleton){var o=A++;n=d||(d=c(e)),r=l.bind(null,n,o,!1),s=l.bind(null,n,o,!0)}else n=c(e),r=p.bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var s=i(n[r]);o[s].references--}for(var c=a(t,e),f=0;f<n.length;f++){var u=i(n[f]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}},913:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.i18n=e.MODULE_CONFIG=void 0,e.MODULE_CONFIG={NAME:"bytes-5e-tools",TEMPLATES_ROOT:"modules/bytes-5e-tools/templates"},e.i18n=t=>`${e.MODULE_CONFIG.NAME}.${t}`,e.template=t=>`${e.MODULE_CONFIG.TEMPLATES_ROOT}/${t}`},257:function(t,e,n){"use strict";var r,s=this&&this.__classPrivateFieldSet||function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},o=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveStatusEffectsSettings=void 0;const a=n(913),c=i(n(468));class f extends FormApplication{constructor(t,e){super(t,e),r.set(this,void 0),s(this,r,duplicate(CONFIG.statusEffects))}static init(){game.settings.registerMenu(a.MODULE_CONFIG.NAME,"active-status-effects",{name:a.i18n("active-status-effects.settings-name"),label:a.i18n("active-status-effects.settings-label"),restricted:!0,type:f,icon:"fas fa-cogs"})}static get defaultOptions(){return{...super.defaultOptions,id:`${a.MODULE_CONFIG.NAME}.active-status-effects.settings`,title:a.i18n("active-status-effects.config-title"),classes:["active-status-effect-settings"],template:a.template("settings/active-status-effects.hbs"),width:525,height:400,editable:!0,resizable:!0,submitOnChange:!1,submitOnClose:!1,closeOnSubmit:!0}}getData(t){return{statusEffects:o(this,r).map((t=>({...t,icon:t.icon.split("#")[0]})))}}activateListeners(t){super.activateListeners(t),t.find(".status-effect-control").on("click",(t=>this.onEffectControl(t))),t.find(".status-effect-name").on("click",this.onToggleEffectSettings.bind(this))}onEffectControl(t){t.preventDefault();const e=t.currentTarget;switch(e.dataset.action){case"delete":return void this.deleteEffect(e)}}onToggleEffectSettings(t){t.preventDefault();const e=t.currentTarget.closest(".status-effect")?.querySelector(".status-effect-settings");e&&(e.style.display="none"===e.style.display?"block":"none")}deleteEffect(t){const e=t.closest(".status-effect")?.dataset.effectId;s(this,r,o(this,r).filter((t=>t.id!==e))),this.render()}async _updateObject(t,e){if(!e)return;const n=[];for(const[t,r]of Object.entries(e))c.default(n,t,r);for(const t of n)t.icon=`${t.icon}#${t.id}`;await game.settings.set(a.MODULE_CONFIG.NAME,"statusEffects",n)}}e.ActiveStatusEffectsSettings=f,r=new WeakMap},17:function(t,e,n){"use strict";var r,s=this&&this.__classPrivateFieldSet||function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},o=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveStatusEffects=void 0;const i=n(913),a=n(257);e.ActiveStatusEffects=class{constructor(){r.set(this,void 0)}init(){s(this,r,CONFIG.statusEffects),this.registerSettings(),this.registerHooks(),a.ActiveStatusEffectsSettings.init()}registerSettings(){game.settings.register(i.MODULE_CONFIG.NAME,"statusEffects",{scope:"world",config:!1,onChange:()=>{this.overrideStatusEffects()}})}registerHooks(){Hooks.on("ready",(()=>{this.overrideStatusEffects()}))}async overrideStatusEffects(){const t=await game.settings.get(i.MODULE_CONFIG.NAME,"statusEffects");CONFIG.statusEffects=t??o(this,r)}},r=new WeakMap},884:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenHoverDisplay=void 0,e.TokenHoverDisplay=class{init(){}}}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";n(909);const t=n(17),e=n(884),r=[t.ActiveStatusEffects,e.TokenHoverDisplay],s=[];function o(...t){return t.slice(0,-1).join("")}Hooks.once("init",(()=>{for(const t of r){const e=new t;e.init(),s.push(e)}Handlebars.registerHelper("b5e_concat",o)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL3N0eWxlcy9hY3RpdmUtc3RhdHVzLWVmZmVjdHMtc2V0dGluZ3MubGVzcyIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guc2V0L2luZGV4LmpzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3R5bGVzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy1zZXR0aW5ncy5sZXNzP2Y1YjEiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9zcmMvY29uZmlnLnRzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL2ZlYXR1cmVzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy9BY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9zcmMvZmVhdHVyZXMvYWN0aXZlLXN0YXR1cy1lZmZlY3RzL2luZGV4LnRzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL2ZlYXR1cmVzL3Rva2VuLWhvdmVyLWRpc3BsYXkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL21haW4udHMiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInVpZCIsIkhBU0hfVU5ERUZJTkVEIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlTGVhZGluZ0RvdCIsInJlUHJvcE5hbWUiLCJyZUVzY2FwZUNoYXIiLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsImZyZWVHbG9iYWwiLCJnIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwiZnVuY1RvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJvYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwic3BsaWNlIiwiTWFwIiwiZ2V0TmF0aXZlIiwibmF0aXZlQ3JlYXRlIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xUb1N0cmluZyIsIkhhc2giLCJlbnRyaWVzIiwiaW5kZXgiLCJjbGVhciIsImVudHJ5Iiwic2V0IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJhc3NpZ25WYWx1ZSIsIm9iamVjdCIsImtleSIsIm9ialZhbHVlIiwiZXEiLCJhc3NvY0luZGV4T2YiLCJhcnJheSIsImdldE1hcERhdGEiLCJ0eXBlIiwiX19kYXRhX18iLCJnZXRWYWx1ZSIsImlzT2JqZWN0IiwiZnVuYyIsInRhZyIsImlzRnVuY3Rpb24iLCJyZXN1bHQiLCJlIiwiaXNIb3N0T2JqZWN0IiwidG9Tb3VyY2UiLCJiYXNlSXNOYXRpdmUiLCJpc0luZGV4IiwiaGFzIiwiZ2V0IiwicG9wIiwic3RyaW5nVG9QYXRoIiwibWVtb2l6ZSIsInN0cmluZyIsImlzU3ltYm9sIiwiYmFzZVRvU3RyaW5nIiwibWF0Y2giLCJudW1iZXIiLCJxdW90ZSIsInRvS2V5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImNhY2hlIiwiQ2FjaGUiLCJvdGhlciIsImlzT2JqZWN0TGlrZSIsInBhdGgiLCJjdXN0b21pemVyIiwiaXNLZXkiLCJjYXN0UGF0aCIsImxhc3RJbmRleCIsIm5lc3RlZCIsIm5ld1ZhbHVlIiwiYmFzZVNldCIsIm1lbW8iLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJhbGwiLCJhdG9iIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsIk1PRFVMRV9DT05GSUciLCJOQU1FIiwiVEVNUExBVEVTX1JPT1QiLCJpMThuIiwidGVtcGxhdGUiLCJBY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MiLCJGb3JtQXBwbGljYXRpb24iLCJzdXBlciIsImR1cGxpY2F0ZSIsIkNPTkZJRyIsInN0YXR1c0VmZmVjdHMiLCJnYW1lIiwic2V0dGluZ3MiLCJyZWdpc3Rlck1lbnUiLCJsYWJlbCIsInJlc3RyaWN0ZWQiLCJpY29uIiwiZGVmYXVsdE9wdGlvbnMiLCJ0aXRsZSIsImNsYXNzZXMiLCJ3aWR0aCIsImhlaWdodCIsImVkaXRhYmxlIiwicmVzaXphYmxlIiwic3VibWl0T25DaGFuZ2UiLCJzdWJtaXRPbkNsb3NlIiwiY2xvc2VPblN1Ym1pdCIsIl9vcHRpb25zIiwic3RhdHVzRWZmZWN0Iiwic3BsaXQiLCJodG1sIiwiYWN0aXZhdGVMaXN0ZW5lcnMiLCJmaW5kIiwib24iLCJldmVudCIsIm9uRWZmZWN0Q29udHJvbCIsIm9uVG9nZ2xlRWZmZWN0U2V0dGluZ3MiLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0IiwiYWN0aW9uIiwiZGVsZXRlRWZmZWN0IiwiY2xvc2VzdCIsImRpc3BsYXkiLCJldmVudFRhcmdldCIsImVmZmVjdElkIiwiZWZmZWN0IiwicmVuZGVyIiwiX2V2ZW50IiwiX2Zvcm1EYXRhIiwicmVnaXN0ZXJTZXR0aW5ncyIsInJlZ2lzdGVySG9va3MiLCJpbml0IiwicmVnaXN0ZXIiLCJzY29wZSIsImNvbmZpZyIsIm9uQ2hhbmdlIiwib3ZlcnJpZGVTdGF0dXNFZmZlY3RzIiwiSG9va3MiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdsb2JhbFRoaXMiLCJwcm9wIiwiciIsInRvU3RyaW5nVGFnIiwiQVZBSUxBQkxFX0ZFQVRVUkVTIiwiQWN0aXZlU3RhdHVzRWZmZWN0cyIsIlRva2VuSG92ZXJEaXNwbGF5IiwiRU5BQkxFRF9GRUFUVVJFUyIsImhhbmRsZWJhcnNDb25jYXQiLCJvbmNlIiwiZmVhdHVyZSIsImFjdGl2ZUZlYXR1cmUiLCJIYW5kbGViYXJzIiwicmVnaXN0ZXJIZWxwZXIiXSwibWFwcGluZ3MiOiJ1RkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSxrakRBQW1qRCxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQywwREFBMEQsTUFBUSxHQUFHLFNBQVcsaWNBQWljLGVBQWlCLENBQUMsNnlDQUE2eUMsV0FBYSxNQUVwOUcsVyxxQkNDQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBdURYLE9BckRBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVTixFQUF1QkssR0FFckMsT0FBSUEsRUFBSyxHQUNBLFVBQVVFLE9BQU9GLEVBQUssR0FBSSxNQUFNRSxPQUFPRCxFQUFTLEtBR2xEQSxLQUNORSxLQUFLLEtBS1ZQLEVBQUtRLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsRUFBUyxNQUc3QixJQUFJRyxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJTixLQUFLVyxPQUFRTCxJQUFLLENBRXBDLElBQUlYLEVBQUtLLEtBQUtNLEdBQUcsR0FFUCxNQUFOWCxJQUNGZSxFQUF1QmYs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SyxRQUFRLEtBQ2YsSUFBSyxNQUFNQyxLQUFXTixFQUFvQixDQUN0QyxNQUFNTyxFQUFnQixJQUFJRCxFQUUxQkMsRUFBYzlCLE9BRWQwQixFQUFpQm5ULEtBQUt1VCxHQVExQkMsV0FBV0MsZUFBZSxhQUFjTCxPIiwiZmlsZSI6Im1vZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgYXV0byAxZnI7XFxuICByb3ctZ2FwOiA0cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDMwcHg7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBwYWRkaW5nOiA4cHg7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciB7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDMycHggYXV0byAzMnB4O1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIGF1dG87XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M5YzdiODtcXG4gIGNvbHVtbi1nYXA6IDRweDtcXG4gIHJvdy1nYXA6IDRweDtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IC5zdGF0dXMtZWZmZWN0LWljb24ge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgd2lkdGg6IGF1dG87XFxuICBoZWlnaHQ6IGF1dG87XFxuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDJweCAwIDJweCAwO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3QtbmFtZSB7XFxuICBqdXN0aWZ5LXNlbGY6IGxlZnQ7XFxuICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1uYW1lIGgzIHtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1jb250cm9scyB7XFxuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IC5zdGF0dXMtZWZmZWN0LXNldHRpbmdzIHtcXG4gIGdyaWQtY29sdW1uOiAxIC8gc3BhbiAzO1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIGZvb3RlciB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcbiAgY29sdW1uLWdhcDogMnB4O1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zdHlsZXMvYWN0aXZlLXN0YXR1cy1lZmZlY3RzLXNldHRpbmdzLmxlc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFFSSxhQUFBO0VBQ0EsZ0NBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtBQUZKO0FBUkE7RUFhTSxjQUFBO0FBRk47QUFYQTtFQWdCUSxhQUFBO0VBQ0EscUNBQUE7RUFDQSw2QkFBQTtFQUNBLGdDQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUFGUjtBQW5CQTtFQXdCVSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7QUFGVjtBQTNCQTtFQWlDVSxrQkFBQTtFQUNBLGtCQUFBO0FBSFY7QUEvQkE7RUFxQ1ksVUFBQTtFQUNBLFNBQUE7QUFIWjtBQW5DQTtFQTJDVSxvQkFBQTtFQUNBLGtCQUFBO0FBTFY7QUF2Q0E7RUFnRFUsdUJBQUE7RUFDQSxZQUFBO0FBTlY7QUEzQ0E7RUF1RE0sYUFBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtBQVROXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBlZmZlY3QtaWNvbi1zaXplOiAzMnB4O1xcblxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyB7XFxuICAuY29udGFpbmVyLWdyaWQge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciBhdXRvIDFmcjtcXG4gICAgcm93LWdhcDogNHB4O1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMzBweDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgcGFkZGluZzogOHB4O1xcblxcbiAgICAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIHtcXG4gICAgICBvdmVyZmxvdzogYXV0bztcXG5cXG4gICAgICAuc3RhdHVzLWVmZmVjdCB7XFxuICAgICAgICBkaXNwbGF5OiBncmlkO1xcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBAZWZmZWN0LWljb24tc2l6ZSBhdXRvIDMycHg7XFxuICAgICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gYXV0bztcXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzljN2I4O1xcbiAgICAgICAgY29sdW1uLWdhcDogNHB4O1xcbiAgICAgICAgcm93LWdhcDogNHB4O1xcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3QtaWNvbiB7XFxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgICAgIGhlaWdodDogYXV0bztcXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XFxuICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgICAgICAgcGFkZGluZzogMnB4IDAgMnB4IDA7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuc3RhdHVzLWVmZmVjdC1uYW1lIHtcXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBsZWZ0O1xcbiAgICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuXFxuICAgICAgICAgIGgzIHtcXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgICAgICAgIG1hcmdpbjogMDtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3QtY29udHJvbHMge1xcbiAgICAgICAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3Mge1xcbiAgICAgICAgICBncmlkLWNvbHVtbjogMSAvIHNwYW4gMztcXG4gICAgICAgICAgcGFkZGluZzogNHB4O1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfVxcblxcbiAgICBmb290ZXIge1xcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcbiAgICAgIGNvbHVtbi1nYXA6IDJweDtcXG4gICAgfVxcbiAgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgcmVMZWFkaW5nRG90ID0gL15cXC4vLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBwYXRoID0gaXNLZXkocGF0aCwgb2JqZWN0KSA/IFtwYXRoXSA6IGNhc3RQYXRoKHBhdGgpO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogc3RyaW5nVG9QYXRoKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplKGZ1bmN0aW9uKHN0cmluZykge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHJlTGVhZGluZ0RvdC50ZXN0KHN0cmluZykpIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICogYHBhdGhgIGNyZWF0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAqIC8vID0+IDRcbiAqXG4gKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gKiAvLyA9PiA1XG4gKi9cbmZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0O1xuIiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzFdLnVzZVsyXSEuL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy1zZXR0aW5ncy5sZXNzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJleHBvcnQgY29uc3QgTU9EVUxFX0NPTkZJRyA9IHtcclxuICAgIE5BTUU6IFwiYnl0ZXMtNWUtdG9vbHNcIixcclxuICAgIFRFTVBMQVRFU19ST09UOiBcIm1vZHVsZXMvYnl0ZXMtNWUtdG9vbHMvdGVtcGxhdGVzXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaTE4biA9IChrZXk6IHN0cmluZyk6IHN0cmluZyA9PiBgJHtNT0RVTEVfQ09ORklHLk5BTUV9LiR7a2V5fWA7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZSA9ICh0ZW1wbGF0ZTogc3RyaW5nKTogc3RyaW5nID0+IGAke01PRFVMRV9DT05GSUcuVEVNUExBVEVTX1JPT1R9LyR7dGVtcGxhdGV9YDsiLCJpbXBvcnQgeyBpMThuLCBNT0RVTEVfQ09ORklHLCB0ZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9jb25maWdcIjtcclxuaW1wb3J0IHNldCBmcm9tIFwibG9kYXNoLnNldFwiO1xyXG5cclxudHlwZSBTdGF0dXNFZmZlY3RzID0gdHlwZW9mIENPTkZJRy5zdGF0dXNFZmZlY3RzO1xyXG5cclxuaW50ZXJmYWNlIERhdGEge1xyXG4gICAgc3RhdHVzRWZmZWN0czogU3RhdHVzRWZmZWN0cztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGl2ZVN0YXR1c0VmZmVjdHNTZXR0aW5ncyBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbjxGb3JtQXBwbGljYXRpb24uT3B0aW9ucywgRGF0YT4ge1xyXG4gICAgI3N0YXR1c0VmZmVjdHM6IHR5cGVvZiBDT05GSUcuc3RhdHVzRWZmZWN0cztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q/OiBEYXRhLCBvcHRpb25zPzogRm9ybUFwcGxpY2F0aW9uLk9wdGlvbnMpIHtcclxuICAgICAgICBzdXBlcihvYmplY3QsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLiNzdGF0dXNFZmZlY3RzID0gZHVwbGljYXRlKENPTkZJRy5zdGF0dXNFZmZlY3RzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3Rlck1lbnUoTU9EVUxFX0NPTkZJRy5OQU1FLCBcImFjdGl2ZS1zdGF0dXMtZWZmZWN0c1wiLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGkxOG4oXCJhY3RpdmUtc3RhdHVzLWVmZmVjdHMuc2V0dGluZ3MtbmFtZVwiKSxcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4oXCJhY3RpdmUtc3RhdHVzLWVmZmVjdHMuc2V0dGluZ3MtbGFiZWxcIiksXHJcbiAgICAgICAgICAgIHJlc3RyaWN0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHR5cGU6IEFjdGl2ZVN0YXR1c0VmZmVjdHNTZXR0aW5ncyxcclxuICAgICAgICAgICAgaWNvbjogXCJmYXMgZmEtY29nc1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKTogRm9ybUFwcGxpY2F0aW9uLk9wdGlvbnMge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLnN1cGVyLmRlZmF1bHRPcHRpb25zLFxyXG4gICAgICAgICAgICBpZDogYCR7TU9EVUxFX0NPTkZJRy5OQU1FfS5hY3RpdmUtc3RhdHVzLWVmZmVjdHMuc2V0dGluZ3NgLFxyXG4gICAgICAgICAgICB0aXRsZTogaTE4bihcImFjdGl2ZS1zdGF0dXMtZWZmZWN0cy5jb25maWctdGl0bGVcIiksXHJcbiAgICAgICAgICAgIGNsYXNzZXM6IFtcImFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzXCJdLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUoXCJzZXR0aW5ncy9hY3RpdmUtc3RhdHVzLWVmZmVjdHMuaGJzXCIpLFxyXG4gICAgICAgICAgICB3aWR0aDogNTI1LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgc3VibWl0T25DaGFuZ2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBzdWJtaXRPbkNsb3NlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2xvc2VPblN1Ym1pdDogdHJ1ZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREYXRhKF9vcHRpb25zPzogQXBwbGljYXRpb24uUmVuZGVyT3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0VmZmVjdHMgPSB0aGlzLiNzdGF0dXNFZmZlY3RzLm1hcChzdGF0dXNFZmZlY3QgPT4gKHtcclxuICAgICAgICAgICAgLi4uc3RhdHVzRWZmZWN0LFxyXG4gICAgICAgICAgICBpY29uOiBzdGF0dXNFZmZlY3QuaWNvbi5zcGxpdChcIiNcIilbMF1cclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1c0VmZmVjdHNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhY3RpdmF0ZUxpc3RlbmVycyhodG1sOiBKUXVlcnkpIHtcclxuICAgICAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKTtcclxuXHJcbiAgICAgICAgaHRtbC5maW5kKFwiLnN0YXR1cy1lZmZlY3QtY29udHJvbFwiKS5vbihcImNsaWNrXCIsIChldmVudDogSlF1ZXJ5LlRyaWdnZXJlZEV2ZW50KSA9PiB0aGlzLm9uRWZmZWN0Q29udHJvbChldmVudCkpO1xyXG4gICAgICAgIGh0bWwuZmluZChcIi5zdGF0dXMtZWZmZWN0LW5hbWVcIikub24oXCJjbGlja1wiLCB0aGlzLm9uVG9nZ2xlRWZmZWN0U2V0dGluZ3MuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkVmZmVjdENvbnRyb2woZXZlbnQ6IEpRdWVyeS5UcmlnZ2VyZWRFdmVudDx1bmtub3duLCB1bmtub3duLCBIVE1MRWxlbWVudD4pIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoYnV0dG9uLmRhdGFzZXQuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkZWxldGVcIjoge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVFZmZlY3QoYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVG9nZ2xlRWZmZWN0U2V0dGluZ3MoZXZlbnQ6IEpRdWVyeS5UcmlnZ2VyZWRFdmVudDx1bmtub3duLCB1bmtub3duLCBIVE1MRWxlbWVudD4pIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHRvZ2dsZUxpbmsgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdG9nZ2xlTGluay5jbG9zZXN0KFwiLnN0YXR1cy1lZmZlY3RcIik/LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3NcIik7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5zdHlsZS5kaXNwbGF5ID0gc2V0dGluZ3Muc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWxldGVFZmZlY3QoZXZlbnRUYXJnZXQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzRWZmZWN0Q29udGFpbmVyID0gZXZlbnRUYXJnZXQuY2xvc2VzdDxIVE1MRWxlbWVudD4oXCIuc3RhdHVzLWVmZmVjdFwiKTtcclxuICAgICAgICBjb25zdCBlZmZlY3RJZCA9IHN0YXR1c0VmZmVjdENvbnRhaW5lcj8uZGF0YXNldC5lZmZlY3RJZDtcclxuXHJcbiAgICAgICAgdGhpcy4jc3RhdHVzRWZmZWN0cyA9IHRoaXMuI3N0YXR1c0VmZmVjdHMuZmlsdGVyKGVmZmVjdCA9PiBlZmZlY3QuaWQgIT09IGVmZmVjdElkKTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBfdXBkYXRlT2JqZWN0KF9ldmVudDogRXZlbnQsIF9mb3JtRGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKCFfZm9ybURhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzRWZmZWN0czogU3RhdHVzRWZmZWN0cyA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgW3BhdGgsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhfZm9ybURhdGEpKSB7XHJcbiAgICAgICAgICAgIHNldChzdGF0dXNFZmZlY3RzLCBwYXRoLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXR1c0VmZmVjdCBvZiBzdGF0dXNFZmZlY3RzKSB7XHJcbiAgICAgICAgICAgIHN0YXR1c0VmZmVjdC5pY29uID0gYCR7c3RhdHVzRWZmZWN0Lmljb259IyR7c3RhdHVzRWZmZWN0LmlkfWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBnYW1lLnNldHRpbmdzLnNldChNT0RVTEVfQ09ORklHLk5BTUUsIFwic3RhdHVzRWZmZWN0c1wiLCBzdGF0dXNFZmZlY3RzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNT0RVTEVfQ09ORklHIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgdHlwZSB7IEZlYXR1cmUgfSBmcm9tIFwiLi4vLi4vZmVhdHVyZVwiO1xyXG5pbXBvcnQgeyBBY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MgfSBmcm9tIFwiLi9BY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3NcIjtcclxuXHJcbnR5cGUgU3RhdHVzRWZmZWN0cyA9IHR5cGVvZiBDT05GSUcuc3RhdHVzRWZmZWN0cztcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmVTdGF0dXNFZmZlY3RzIGltcGxlbWVudHMgRmVhdHVyZSB7XHJcbiAgICAjb3JpZ2luYWxTdGF0dXNFZmZlY3RzITogU3RhdHVzRWZmZWN0cztcclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLiNvcmlnaW5hbFN0YXR1c0VmZmVjdHMgPSBDT05GSUcuc3RhdHVzRWZmZWN0cztcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlckhvb2tzKCk7XHJcblxyXG4gICAgICAgIEFjdGl2ZVN0YXR1c0VmZmVjdHNTZXR0aW5ncy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RlclNldHRpbmdzKCk6IHZvaWQge1xyXG4gICAgICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoTU9EVUxFX0NPTkZJRy5OQU1FLCBcInN0YXR1c0VmZmVjdHNcIiwge1xyXG4gICAgICAgICAgICBzY29wZTogXCJ3b3JsZFwiLFxyXG4gICAgICAgICAgICBjb25maWc6IGZhbHNlLFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogKCkgPT4gdm9pZCB0aGlzLm92ZXJyaWRlU3RhdHVzRWZmZWN0cygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3Rlckhvb2tzKCk6IHZvaWQge1xyXG4gICAgICAgIEhvb2tzLm9uKFwicmVhZHlcIiwgKCkgPT4gdm9pZCB0aGlzLm92ZXJyaWRlU3RhdHVzRWZmZWN0cygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgb3ZlcnJpZGVTdGF0dXNFZmZlY3RzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0VmZmVjdHMgPSBhd2FpdCBnYW1lLnNldHRpbmdzLmdldChNT0RVTEVfQ09ORklHLk5BTUUsIFwic3RhdHVzRWZmZWN0c1wiKSBhcyBTdGF0dXNFZmZlY3RzIHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgQ09ORklHLnN0YXR1c0VmZmVjdHMgPSBzdGF0dXNFZmZlY3RzID8/IHRoaXMuI29yaWdpbmFsU3RhdHVzRWZmZWN0cztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgdHlwZSB7IEZlYXR1cmUgfSBmcm9tIFwiLi4vLi4vZmVhdHVyZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRva2VuSG92ZXJEaXNwbGF5IGltcGxlbWVudHMgRmVhdHVyZSB7XHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIC8vXHJcbiAgICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IFwiLi4vc3R5bGVzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy1zZXR0aW5ncy5sZXNzXCI7XG5cbmltcG9ydCB0eXBlIHsgRmVhdHVyZSwgRmVhdHVyZVN0YXRpYyB9IGZyb20gXCIuL2ZlYXR1cmVcIjtcbmltcG9ydCB7IEFjdGl2ZVN0YXR1c0VmZmVjdHMgfSBmcm9tIFwiLi9mZWF0dXJlcy9hY3RpdmUtc3RhdHVzLWVmZmVjdHNcIjtcbmltcG9ydCB7IFRva2VuSG92ZXJEaXNwbGF5IH0gZnJvbSBcIi4vZmVhdHVyZXMvdG9rZW4taG92ZXItZGlzcGxheVwiO1xuXG5jb25zdCBBVkFJTEFCTEVfRkVBVFVSRVM6IEZlYXR1cmVTdGF0aWNbXSA9IFtcbiAgICBBY3RpdmVTdGF0dXNFZmZlY3RzLFxuICAgIFRva2VuSG92ZXJEaXNwbGF5XG5dO1xuY29uc3QgRU5BQkxFRF9GRUFUVVJFUzogRmVhdHVyZVtdID0gW107XG5cbkhvb2tzLm9uY2UoXCJpbml0XCIsICgpID0+IHtcbiAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgQVZBSUxBQkxFX0ZFQVRVUkVTKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUZlYXR1cmUgPSBuZXcgZmVhdHVyZSgpO1xuXG4gICAgICAgIGFjdGl2ZUZlYXR1cmUuaW5pdCgpO1xuXG4gICAgICAgIEVOQUJMRURfRkVBVFVSRVMucHVzaChhY3RpdmVGZWF0dXJlKTtcbiAgICB9XG5cbiAgICByZWdpc3RlckhhbmRsZWJhcnNIZWxwZXJzKCk7XG59KTtcblxuXG5mdW5jdGlvbiByZWdpc3RlckhhbmRsZWJhcnNIZWxwZXJzKCkge1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJiNWVfY29uY2F0XCIsIGhhbmRsZWJhcnNDb25jYXQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGViYXJzQ29uY2F0KC4uLmFyZ3M6IHVua25vd25bXSkge1xuICAgIHJldHVybiBhcmdzLnNsaWNlKDAsIC0xKS5qb2luKFwiXCIpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==