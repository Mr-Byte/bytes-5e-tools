(()=>{var t={926:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(15),i=n.n(s),r=n(645),a=n.n(r)()(i());a.push([t.id,'.active-status-effect-settings .container-grid {\n  display: grid;\n  grid-template-rows: 1fr auto 1fr;\n  row-gap: 4px;\n  position: absolute;\n  top: 30px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 8px;\n}\n.active-status-effect-settings .container-grid header {\n  border-bottom: 1px solid #782e22;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n}\n.active-status-effect-settings .container-grid header > h2 {\n  justify-self: left;\n  align-self: end;\n  border-bottom: none;\n  padding: 0;\n  margin: 0;\n}\n.active-status-effect-settings .container-grid header > a {\n  justify-self: right;\n  align-self: end;\n}\n.active-status-effect-settings .container-grid header > a > h2 {\n  border-bottom: none;\n  padding: 0;\n  margin: 0;\n}\n.active-status-effect-settings .container-grid .status-effects-container {\n  overflow: auto;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect {\n  display: grid;\n  grid-template-columns: 32px auto 32px;\n  grid-template-rows: auto auto;\n  border-bottom: 1px solid #c9c7b8;\n  column-gap: 4px;\n  row-gap: 4px;\n  padding-top: 4px;\n  overflow: hidden;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-icon {\n  border: none;\n  width: auto;\n  height: auto;\n  justify-self: center;\n  align-self: center;\n  padding: 2px 0 2px 0;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-name {\n  justify-self: left;\n  align-self: center;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-name h3 {\n  padding: 0;\n  margin: 0;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-controls {\n  justify-self: center;\n  align-self: center;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings {\n  grid-column: 1 / span 3;\n  padding: 0px;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings[data-visibility="hidden"] {\n  height: 0px;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings[data-visibility="shown"] {\n  height: auto;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto 1fr;\n  row-gap: 4px;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .selector {\n  opacity: 0;\n  position: absolute;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .selector:checked + .label {\n  text-shadow: 0 0 10px red;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .selector:checked + .label + .panel {\n  display: block;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .label {\n  width: 100%;\n  align-self: end;\n  justify-self: center;\n  text-align: center;\n  cursor: pointer;\n  grid-row: 1;\n  display: block;\n  border-top: 1px solid #c9c7b8;\n  border-bottom: 1px solid #c9c7b8;\n  padding: 8px;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .label:hover {\n  text-shadow: 0 0 10px red;\n}\n.active-status-effect-settings .container-grid .status-effects-container .status-effect .status-effect-settings div.tabs .panel {\n  display: none;\n  grid-row: 2;\n  grid-column: 1 / span 2;\n}\n.active-status-effect-settings .container-grid footer {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 2px;\n}\n',"",{version:3,sources:["webpack://./styles/active-status-effects-settings.less"],names:[],mappings:"AAEA;EAEI,aAAA;EACA,gCAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;AAFJ;AARA;EAaM,gCAAA;EACA,aAAA;EACA,8BAAA;AAFN;AAbA;EAkBQ,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,UAAA;EACA,SAAA;AAFR;AApBA;EA0BQ,mBAAA;EACA,eAAA;AAHR;AAxBA;EA8BU,mBAAA;EACA,UAAA;EACA,SAAA;AAHV;AA7BA;EAsCM,cAAA;AANN;AAhCA;EAyCQ,aAAA;EACA,qCAAA;EACA,6BAAA;EACA,gCAAA;EACA,eAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;AANR;AA1CA;EAmDU,YAAA;EACA,WAAA;EACA,YAAA;EACA,oBAAA;EACA,kBAAA;EACA,oBAAA;AANV;AAlDA;EA4DU,kBAAA;EACA,kBAAA;AAPV;AAtDA;EAgEY,UAAA;EACA,SAAA;AAPZ;AA1DA;EAsEU,oBAAA;EACA,kBAAA;AATV;AA9DA;EA2EU,uBAAA;EACA,YAAA;AAVV;AAYU;EACE,WAAA;AAVZ;AAaU;EACE,YAAA;AAXZ;AAxEA;EAuFY,aAAA;EACA,8BAAA;EACA,4BAAA;EACA,YAAA;AAZZ;AA9EA;EA6Fc,UAAA;EACA,kBAAA;AAZd;AAegB;EACE,yBAAA;AAblB;AAgBgB;EACE,cAAA;AAdlB;AAxFA;EA4Gc,WAAA;EACA,eAAA;EACA,oBAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,cAAA;EACA,6BAAA;EACA,gCAAA;EACA,YAAA;AAjBd;AAmBc;EACE,yBAAA;AAjBhB;AAvGA;EA6Hc,aAAA;EACA,WAAA;EACA,uBAAA;AAnBd;AA5GA;EAuIM,aAAA;EACA,8BAAA;EACA,eAAA;AAxBN",sourcesContent:['@effect-icon-size: 32px;\n\n.active-status-effect-settings {\n  .container-grid {\n    display: grid;\n    grid-template-rows: 1fr auto 1fr;\n    row-gap: 4px;\n    position: absolute;\n    top: 30px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 8px;\n\n    header {\n      border-bottom: 1px solid #782e22;\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n\n      > h2 {\n        justify-self: left;\n        align-self: end;\n        border-bottom: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      > a {\n        justify-self: right;\n        align-self: end;\n\n        > h2 {\n          border-bottom: none;\n          padding: 0;\n          margin: 0;\n        }\n      }\n    }\n\n    .status-effects-container {\n      overflow: auto;\n\n      .status-effect {\n        display: grid;\n        grid-template-columns: @effect-icon-size auto 32px;\n        grid-template-rows: auto auto;\n        border-bottom: 1px solid #c9c7b8;\n        column-gap: 4px;\n        row-gap: 4px;\n        padding-top: 4px;\n        overflow: hidden;\n\n        .status-effect-icon {\n          border: none;\n          width: auto;\n          height: auto;\n          justify-self: center;\n          align-self: center;\n          padding: 2px 0 2px 0;\n        }\n\n        .status-effect-name {\n          justify-self: left;\n          align-self: center;\n\n          h3 {\n            padding: 0;\n            margin: 0;\n          }\n        }\n\n        .status-effect-controls {\n          justify-self: center;\n          align-self: center;\n        }\n\n        .status-effect-settings {\n          grid-column: 1 / span 3;\n          padding: 0px;\n\n          &[data-visibility="hidden"] {\n            height: 0px;\n          }\n\n          &[data-visibility="shown"] {\n            height: auto;\n          }\n\n          div.tabs {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            grid-template-rows: auto 1fr;\n            row-gap: 4px;\n\n            .selector {\n              opacity: 0;\n              position: absolute;\n\n              &:checked {\n                & + .label {\n                  text-shadow: 0 0 10px red;\n                }\n\n                & + .label + .panel {\n                  display: block;\n                }\n              }\n            }\n\n            .label {\n              width: 100%;\n              align-self: end;\n              justify-self: center;\n              text-align: center;\n              cursor: pointer;\n              grid-row: 1;\n              display: block;\n              border-top: 1px solid #c9c7b8;\n              border-bottom: 1px solid #c9c7b8;\n              padding: 8px;\n\n              &:hover {\n                text-shadow: 0 0 10px red;\n              }\n            }\n\n            .panel {\n              display: none;\n              grid-row: 2;\n              grid-column: 1 / span 2;\n            }\n          }\n        }\n      }\n    }\n\n    footer {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      column-gap: 2px;\n    }\n  }\n}\n'],sourceRoot:""}]);const o=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,s){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(s)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);s&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}t.exports=function(t){var n,s,i=(s=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,i=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);s=!0);}catch(t){i=!0,r=t}finally{try{s||null==o.return||o.return()}finally{if(i)throw r}}return n}}(n,s)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?e(t,n):void 0}}(n,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[1],a=i[3];if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),f="/*# ".concat(c," */"),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([f]).join("\n")}return[r].join("\n")}},468:(t,e,n)=>{var s,i="__lodash_hash_undefined__",r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,o=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=l||d||Function("return this")(),g=Array.prototype,h=Function.prototype,v=Object.prototype,y=p["__core-js_shared__"],b=(s=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",E=h.toString,m=v.hasOwnProperty,C=v.toString,_=RegExp("^"+E.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=p.Symbol,x=g.splice,S=U(p,"Map"),O=U(Object,"create"),j=w?w.prototype:void 0,B=j?j.toString:void 0;function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function T(t,e,n){var s=t[e];m.call(t,e)&&R(s,n)&&(void 0!==n||e in t)||(t[e]=n)}function F(t,e){for(var n=t.length;n--;)if(R(t[n][0],e))return n;return-1}function D(t,e){var n,s,i=t.__data__;return("string"==(s=typeof(n=e))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function U(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!H(t)||(e=t,b&&b in e))&&(function(t){var e=H(t)?C.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?_:u).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(n)?n:void 0}function I(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||A.test(t))&&t>-1&&t%1==0&&t<e}k.prototype.clear=function(){this.__data__=O?O(null):{}},k.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},k.prototype.get=function(t){var e=this.__data__;if(O){var n=e[t];return n===i?void 0:n}return m.call(e,t)?e[t]:void 0},k.prototype.has=function(t){var e=this.__data__;return O?void 0!==e[t]:m.call(e,t)},k.prototype.set=function(t,e){return this.__data__[t]=O&&void 0===e?i:e,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(t){var e=this.__data__,n=F(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),0))},M.prototype.get=function(t){var e=this.__data__,n=F(e,t);return n<0?void 0:e[n][1]},M.prototype.has=function(t){return F(this.__data__,t)>-1},M.prototype.set=function(t,e){var n=this.__data__,s=F(n,t);return s<0?n.push([t,e]):n[s][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new k,map:new(S||M),string:new k}},N.prototype.delete=function(t){return D(this,t).delete(t)},N.prototype.get=function(t){return D(this,t).get(t)},N.prototype.has=function(t){return D(this,t).has(t)},N.prototype.set=function(t,e){return D(this,t).set(t,e),this};var P=L((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Y(t))return B?B.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return o.test(t)&&n.push(""),t.replace(c,(function(t,e,s,i){n.push(s?i.replace(f,"$1"):e||t)})),n}));function G(t){if("string"==typeof t||Y(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function L(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var s=arguments,i=e?e.apply(this,s):s[0],r=n.cache;if(r.has(i))return r.get(i);var a=t.apply(this,s);return n.cache=r.set(i,a),a};return n.cache=new(L.Cache||N),n}function R(t,e){return t===e||t!=t&&e!=e}L.Cache=N;var $=Array.isArray;function H(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Y(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==C.call(t)}t.exports=function(t,e,n){return null==t?t:function(t,e,n,s){if(!H(t))return t;for(var i=-1,o=(e=function(t,e){if($(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Y(t))||a.test(t)||!r.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return $(t)?t:P(t)}(e)).length,c=o-1,f=t;null!=f&&++i<o;){var u=G(e[i]),A=n;if(i!=c){var l=f[u];void 0===(A=s?s(l,u,f):void 0)&&(A=H(l)?l:I(e[i+1])?[]:{})}T(f,u,A),f=f[u]}return t}(t,e,n)}},909:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var s=n(379),i=n.n(s),r=n(926);i()(r.Z,{insert:"head",singleton:!1});const a=r.Z.locals||{}},379:(t,e,n)=>{"use strict";var s,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function a(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function o(t,e){for(var n={},s=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],f=n[c]||0,u="".concat(c," ").concat(f);n[c]=f+1;var A=a(u),l={css:o[1],media:o[2],sourceMap:o[3]};-1!==A?(r[A].references++,r[A].updater(l)):r.push({identifier:u,updater:g(l,e),references:1}),s.push(u)}return s}function c(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var r=n.nc;r&&(s.nonce=r)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var f,u=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function A(t,e,n,s){var i=n?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function l(t,e,n){var s=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var d=null,p=0;function g(t,e){var n,s,i;if(e.singleton){var r=p++;n=d||(d=c(e)),s=A.bind(null,n,r,!1),i=A.bind(null,n,r,!0)}else n=c(e),s=l.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var n=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<n.length;s++){var i=a(n[s]);r[i].references--}for(var c=o(t,e),f=0;f<n.length;f++){var u=a(n[f]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=c}}}},913:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.modKey=e.MODULE_CONFIG=void 0,e.MODULE_CONFIG={NAME:"bytes-5e-tools",TEMPLATES_ROOT:"modules/bytes-5e-tools/templates"},e.modKey=t=>`${e.MODULE_CONFIG.NAME}.${t}`,e.template=t=>`${e.MODULE_CONFIG.TEMPLATES_ROOT}/${t}`},257:function(t,e,n){"use strict";var s,i=this&&this.__classPrivateFieldSet||function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},r=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveStatusEffectsSettings=void 0;const o=n(913),c=a(n(468));class f extends FormApplication{constructor(t,e){super(t,e),s.set(this,void 0),i(this,s,duplicate(CONFIG.statusEffects))}static init(t){game.settings.registerMenu(o.MODULE_CONFIG.NAME,"active-status-effects",{name:o.modKey("active-status-effects.settings-name"),label:o.modKey("active-status-effects.settings-label"),restricted:!0,type:f,icon:"fas fa-cogs"}),f.defaultStatusEffects=t}static get defaultOptions(){return{...super.defaultOptions,id:`${o.MODULE_CONFIG.NAME}.active-status-effects.settings`,title:o.modKey("active-status-effects.config-title"),classes:["active-status-effect-settings"],template:o.template("settings/active-status-effects.hbs"),width:525,height:400,editable:!0,resizable:!0,submitOnChange:!1,submitOnClose:!1,closeOnSubmit:!0}}getData(t){return{statusEffects:r(this,s).map((t=>({...t,icon:t.icon.split("#")[0]})))}}async _updateObject(t,e){if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>e.startsWith("#")?t:c.default(t,e,n)),[]);for(const t of n)t.icon=`${t.icon}#${t.id}`;await game.settings.set(o.MODULE_CONFIG.NAME,"statusEffects",n)}activateListeners(t){super.activateListeners(t),t.find(".status-effect-control").on("click",this.onStatusEffectControlClick.bind(this)),t.find(".status-effect-name").on("click",this.onStatusEffectSettingsToggleClick.bind(this)),t.find(".status-effects-reset").on("click",this.onStatusEffectsResetClick.bind(this))}onStatusEffectControlClick(t){t.preventDefault();const e=t.currentTarget;switch(e.dataset.action){case"create":return void this.createEffect();case"delete":return void this.deleteEffect(e)}}createEffect(){r(this,s).push({id:randomID(),label:"New Effect",icon:"icons/svg/aura.svg"}),this.render()}deleteEffect(t){const e=t.closest(".status-effect")?.dataset.effectId;i(this,s,r(this,s).filter((t=>t.id!==e))),this.render()}onStatusEffectSettingsToggleClick(t){t.preventDefault();const e=t.currentTarget,n=e.closest(".status-effect")?.querySelector(".status-effect-settings");n&&("hidden"===n.dataset.visibility?(n.dataset.visibility="shown",e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})):n.dataset.visibility="hidden")}onStatusEffectsResetClick(){new Dialog({title:"Reset Defaults",content:"<p>Are you sure you want to discard all changes and reset to the default status effects?</p>",buttons:{ok:{label:"Ok",callback:()=>{i(this,s,duplicate(f.defaultStatusEffects)),this.render()}},cancel:{label:"Cancel"}},default:"cancel"}).render(!0)}}e.ActiveStatusEffectsSettings=f,s=new WeakMap},17:function(t,e,n){"use strict";var s,i=this&&this.__classPrivateFieldSet||function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},r=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveStatusEffects=void 0;const a=n(913),o=n(257);e.ActiveStatusEffects=class{constructor(){s.set(this,void 0)}init(){i(this,s,CONFIG.statusEffects),this.registerSettings(),this.registerHooks(),o.ActiveStatusEffectsSettings.init(r(this,s))}registerSettings(){game.settings.register(a.MODULE_CONFIG.NAME,"statusEffects",{scope:"world",config:!1,onChange:()=>{this.overrideStatusEffects()}})}registerHooks(){Hooks.on("ready",(()=>{this.overrideStatusEffects()})),Hooks.on("preCreateActiveEffect",((t,e)=>{[e.icon]=e.icon.split("#")}))}async overrideStatusEffects(){const t=await game.settings.get(a.MODULE_CONFIG.NAME,"statusEffects");CONFIG.statusEffects=t??r(this,s)}},s=new WeakMap},884:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenHoverDisplay=void 0,e.TokenHoverDisplay=class{init(){}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";n(909);const t=n(17),e=n(884),s=[t.ActiveStatusEffects,e.TokenHoverDisplay],i=[];Hooks.once("init",(()=>{for(const t of s){const e=new t;e.init(),i.push(e)}Handlebars.registerHelper("b5e_concat",((...t)=>t.slice(0,-1).join("")))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL3N0eWxlcy9hY3RpdmUtc3RhdHVzLWVmZmVjdHMtc2V0dGluZ3MubGVzcyIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guc2V0L2luZGV4LmpzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3R5bGVzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy1zZXR0aW5ncy5sZXNzP2Y1YjEiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9zcmMvY29uZmlnLnRzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL2ZlYXR1cmVzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy9BY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvLi9zcmMvZmVhdHVyZXMvYWN0aXZlLXN0YXR1cy1lZmZlY3RzL2luZGV4LnRzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL2ZlYXR1cmVzL3Rva2VuLWhvdmVyLWRpc3BsYXkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYnl0ZXMtNWUtdG9vbHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9ieXRlcy01ZS10b29scy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2J5dGVzLTVlLXRvb2xzLy4vc3JjL21haW4udHMiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInVpZCIsIkhBU0hfVU5ERUZJTkVEIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlTGVhZGluZ0RvdCIsInJlUHJvcE5hbWUiLCJyZUVzY2FwZUNoYXIiLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsImZyZWVHbG9iYWwiLCJnIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwiZnVuY1RvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJvYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJyZXBsYWNlIiwic3BsaWNlIiwiTWFwIiwiZ2V0TmF0aXZlIiwibmF0aXZlQ3JlYXRlIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xUb1N0cmluZyIsIkhhc2giLCJlbnRyaWVzIiwiaW5kZXgiLCJjbGVhciIsImVudHJ5Iiwic2V0IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJhc3NpZ25WYWx1ZSIsIm9iamVjdCIsImtleSIsIm9ialZhbHVlIiwiZXEiLCJhc3NvY0luZGV4T2YiLCJhcnJheSIsImdldE1hcERhdGEiLCJ0eXBlIiwiX19kYXRhX18iLCJnZXRWYWx1ZSIsImlzT2JqZWN0IiwiZnVuYyIsInRhZyIsImlzRnVuY3Rpb24iLCJyZXN1bHQiLCJlIiwiaXNIb3N0T2JqZWN0IiwidG9Tb3VyY2UiLCJiYXNlSXNOYXRpdmUiLCJpc0luZGV4IiwiaGFzIiwiZ2V0IiwicG9wIiwic3RyaW5nVG9QYXRoIiwibWVtb2l6ZSIsInN0cmluZyIsImlzU3ltYm9sIiwiYmFzZVRvU3RyaW5nIiwibWF0Y2giLCJudW1iZXIiLCJxdW90ZSIsInRvS2V5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImNhY2hlIiwiQ2FjaGUiLCJvdGhlciIsImlzT2JqZWN0TGlrZSIsInBhdGgiLCJjdXN0b21pemVyIiwiaXNLZXkiLCJjYXN0UGF0aCIsImxhc3RJbmRleCIsIm5lc3RlZCIsIm5ld1ZhbHVlIiwiYmFzZVNldCIsIm1lbW8iLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJhbGwiLCJhdG9iIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsIk1PRFVMRV9DT05GSUciLCJOQU1FIiwiVEVNUExBVEVTX1JPT1QiLCJtb2RLZXkiLCJ0ZW1wbGF0ZSIsIkFjdGl2ZVN0YXR1c0VmZmVjdHNTZXR0aW5ncyIsIkZvcm1BcHBsaWNhdGlvbiIsInN1cGVyIiwiZHVwbGljYXRlIiwiQ09ORklHIiwic3RhdHVzRWZmZWN0cyIsImRlZmF1bHRTdGF0dXNFZmZlY3RzIiwiZ2FtZSIsInNldHRpbmdzIiwicmVnaXN0ZXJNZW51IiwibGFiZWwiLCJyZXN0cmljdGVkIiwiaWNvbiIsImRlZmF1bHRPcHRpb25zIiwidGl0bGUiLCJjbGFzc2VzIiwid2lkdGgiLCJoZWlnaHQiLCJlZGl0YWJsZSIsInJlc2l6YWJsZSIsInN1Ym1pdE9uQ2hhbmdlIiwic3VibWl0T25DbG9zZSIsImNsb3NlT25TdWJtaXQiLCJfb3B0aW9ucyIsInN0YXR1c0VmZmVjdCIsInNwbGl0IiwiX2V2ZW50IiwiZm9ybURhdGEiLCJyZWR1Y2UiLCJzdGFydHNXaXRoIiwiaHRtbCIsImFjdGl2YXRlTGlzdGVuZXJzIiwiZmluZCIsIm9uIiwib25TdGF0dXNFZmZlY3RDb250cm9sQ2xpY2siLCJvblN0YXR1c0VmZmVjdFNldHRpbmdzVG9nZ2xlQ2xpY2siLCJvblN0YXR1c0VmZmVjdHNSZXNldENsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0IiwiYWN0aW9uIiwiY3JlYXRlRWZmZWN0IiwiZGVsZXRlRWZmZWN0IiwicmFuZG9tSUQiLCJyZW5kZXIiLCJldmVudFRhcmdldCIsImVmZmVjdElkIiwiY2xvc2VzdCIsImVmZmVjdCIsInRvZ2dsZUxpbmsiLCJ2aXNpYmlsaXR5Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiaW5saW5lIiwiRGlhbG9nIiwiYnV0dG9ucyIsIm9rIiwiY2FsbGJhY2siLCJjYW5jZWwiLCJkZWZhdWx0IiwicmVnaXN0ZXJTZXR0aW5ncyIsInJlZ2lzdGVySG9va3MiLCJpbml0IiwicmVnaXN0ZXIiLCJzY29wZSIsImNvbmZpZyIsIm9uQ2hhbmdlIiwib3ZlcnJpZGVTdGF0dXNFZmZlY3RzIiwiSG9va3MiLCJfIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnbG9iYWxUaGlzIiwicHJvcCIsInIiLCJ0b1N0cmluZ1RhZyIsIkFWQUlMQUJMRV9GRUFUVVJFUyIsIkFjdGl2ZVN0YXR1c0VmZmVjdHMiLCJUb2tlbkhvdmVyRGlzcGxheSIsIkVOQUJMRURfRkVBVFVSRVMiLCJvbmNlIiwiZmVhdHVyZSIsImFjdGl2ZUZlYXR1cmUiLCJIYW5kbGViYXJzIiwicmVnaXN0ZXJIZWxwZXIiXSwibWFwcGluZ3MiOiJ1RkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSxtNUhBQXc1SCxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQywwREFBMEQsTUFBUSxHQUFHLFNBQVcscy9CQUFzL0IsZUFBaUIsQ0FBQyxna0dBQW9rRyxXQUFhLE1BRXJvUSxXLHFCQ0NBRCxFQUFPRSxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0F1RFgsT0FyREFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBQVVOLEVBQXVCSyxHQUVyQyxPQUFJQSxFQUFLLEdBQ0EsVUFBVUUsT0FBT0YsRUFBSyxHQUFJLE1BQU1FLE9BQU9ELEVBQVMsS0FHbERBLEtBQ05FLEtBQUssS0FLVlAsRUFBS1EsRUFBSSxTQUFVQyxFQUFTQyxFQUFZQyxHQUNmLGlCQUFaRixJQUVUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxFQUFTLE1BRzdCLElBQUlHLEVBQXlCLEdBRTdCLEdBQUlELEVBQ0YsSUFBSyxJQUFJSCxFQUFJLEVBQUdBLEVBQUlOLEtBQUtXLE9BQVFMLElBQUssQ0FFcEMsSUFBSVgsRUFBS0ssS0FBS00sR0FBRyxHQUVQLE1BQU5YLElBQ0ZlLEVBQXVCZixJQUFNLEdBS25DLElBQUssSUFBSWlCLEVBQUssRUFBR0EsRUFBS0wsRUFBUUksT0FBUUMsSUFBTSxDQUMxQyxJQUFJVixFQUFPLEdBQUdFLE9BQU9HLEVBQVFLLElBRXpCSCxHQUFVQyxFQUF1QlIsRUFBSyxNQUt0Q00sSUFDR04sRUFBSyxHQUdSQSxFQUFLLEdBQUssR0FBR0UsT0FBT0ksRUFBWSxTQUFTSixPQUFPRixFQUFLLElBRnJEQSxFQUFLLEdBQUtNLEdBTWRWLEVBQUtMLEtBQUtTLE1BSVBKLEksb0JDeERULFNBQVNlLEVBQWtCQyxFQUFLQyxJQUFrQixNQUFQQSxHQUFlQSxFQUFNRCxFQUFJSCxVQUFRSSxFQUFNRCxFQUFJSCxRQUFRLElBQUssSUFBSUwsRUFBSSxFQUFHVSxFQUFPLElBQUlDLE1BQU1GLEdBQU1ULEVBQUlTLEVBQUtULElBQU9VLEVBQUtWLEdBQUtRLEVBQUlSLEdBQU0sT0FBT1UsRUFNaEx0QixFQUFPRSxRQUFVLFNBQWdDTSxHQUMvQyxJQWJzQlksRUFBS1IsRUFhdkJZLEdBYnVCWixFQWFNLEVBSG5DLFNBQXlCUSxHQUFPLEdBQUlHLE1BQU1FLFFBQVFMLEdBQU0sT0FBT0EsRUFWdEJNLENBQWpCTixFQWFLWixJQUw3QixTQUErQlksRUFBS1IsR0FBSyxHQUFzQixvQkFBWGUsUUFBNEJBLE9BQU9DLFlBQVlDLE9BQU9ULEdBQWpFLENBQWdGLElBQUlVLEVBQU8sR0FBUUMsR0FBSyxFQUFVQyxHQUFLLEVBQVdDLE9BQUtDLEVBQVcsSUFBTSxJQUFLLElBQWlDQyxFQUE3QmpCLEVBQUtFLEVBQUlPLE9BQU9DLGNBQW1CRyxHQUFNSSxFQUFLakIsRUFBR2tCLFFBQVFDLFFBQW9CUCxFQUFLL0IsS0FBS29DLEVBQUdHLFFBQVkxQixHQUFLa0IsRUFBS2IsU0FBV0wsR0FBM0RtQixHQUFLLElBQW9FLE1BQU9RLEdBQU9QLEdBQUssRUFBTUMsRUFBS00sRUFBTyxRQUFVLElBQVdSLEdBQXNCLE1BQWhCYixFQUFXLFFBQVdBLEVBQVcsU0FBTyxRQUFVLEdBQUljLEVBQUksTUFBTUMsR0FBUSxPQUFPSCxHQVJqYVUsQ0FBc0JwQixFQUFLUixJQUk1RixTQUFxQzZCLEVBQUdDLEdBQVUsR0FBS0QsRUFBTCxDQUFnQixHQUFpQixpQkFBTkEsRUFBZ0IsT0FBT3RCLEVBQWtCc0IsRUFBR0MsR0FBUyxJQUFJQyxFQUFJZCxPQUFPZSxVQUFVdkMsU0FBU3dDLEtBQUtKLEdBQUdLLE1BQU0sR0FBSSxHQUFpRSxNQUFuRCxXQUFOSCxHQUFrQkYsRUFBRU0sY0FBYUosRUFBSUYsRUFBRU0sWUFBWUMsTUFBZ0IsUUFBTkwsR0FBcUIsUUFBTkEsRUFBb0JwQixNQUFNMEIsS0FBS1IsR0FBYyxjQUFORSxHQUFxQiwyQ0FBMkNPLEtBQUtQLEdBQVd4QixFQUFrQnNCLEVBQUdDLFFBQXpHLEdBSjNNUyxDQUE0Qi9CLEVBQUtSLElBRW5JLFdBQThCLE1BQU0sSUFBSXdDLFVBQVUsNklBRnVGQyxJQWNuSTVDLEVBQVVlLEVBQU0sR0FDaEI4QixFQUFhOUIsRUFBTSxHQUV2QixHQUFvQixtQkFBVCtCLEtBQXFCLENBRTlCLElBQUlDLEVBQVNELEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVU4sTUFDekRPLEVBQU8sK0RBQStEbkQsT0FBTzhDLEdBQzdFTSxFQUFnQixPQUFPcEQsT0FBT21ELEVBQU0sT0FDcENFLEVBQWFULEVBQVdVLFFBQVF6RCxLQUFJLFNBQVUwRCxHQUNoRCxNQUFPLGlCQUFpQnZELE9BQU80QyxFQUFXWSxZQUFjLElBQUl4RCxPQUFPdUQsRUFBUSxVQUU3RSxNQUFPLENBQUN4RCxHQUFTQyxPQUFPcUQsR0FBWXJELE9BQU8sQ0FBQ29ELElBQWdCbkQsS0FBSyxNQUduRSxNQUFPLENBQUNGLEdBQVNFLEtBQUssUSxjQ3BCeEIsSUFxRk13RCxFQWxGRkMsRUFBaUIsNEJBWWpCQyxFQUFlLG1EQUNmQyxFQUFnQixRQUNoQkMsRUFBZSxNQUNmQyxFQUFhLG1HQVNiQyxFQUFlLFdBR2ZDLEVBQWUsOEJBR2ZDLEVBQVcsbUJBR1hDLEVBQThCLGlCQUFWLEVBQUFDLEdBQXNCLEVBQUFBLEdBQVUsRUFBQUEsRUFBT2hELFNBQVdBLFFBQVUsRUFBQWdELEVBR2hGQyxFQUEwQixpQkFBUkMsTUFBb0JBLE1BQVFBLEtBQUtsRCxTQUFXQSxRQUFVa0QsS0FHeEVDLEVBQU9KLEdBQWNFLEdBQVlHLFNBQVMsY0FBVEEsR0FrQ2pDQyxFQUFhM0QsTUFBTXFCLFVBQ25CdUMsRUFBWUYsU0FBU3JDLFVBQ3JCd0MsRUFBY3ZELE9BQU9lLFVBR3JCeUMsRUFBYUwsRUFBSyxzQkFHbEJNLEdBQ0VuQixFQUFNLFNBQVNvQixLQUFLRixHQUFjQSxFQUFXRyxNQUFRSCxFQUFXRyxLQUFLQyxVQUFZLEtBQ3ZFLGlCQUFtQnRCLEVBQU8sR0FJdEN1QixFQUFlUCxFQUFVOUUsU0FHekJzRixFQUFpQlAsRUFBWU8sZUFPN0JDLEVBQWlCUixFQUFZL0UsU0FHN0J3RixFQUFhQyxPQUFPLElBQ3RCSixFQUFhN0MsS0FBSzhDLEdBQWdCSSxRQWhGakIsc0JBZ0Z1QyxRQUN2REEsUUFBUSx5REFBMEQsU0FBVyxLQUk1RXBFLEVBQVNxRCxFQUFLckQsT0FDZHFFLEVBQVNkLEVBQVdjLE9BR3BCQyxFQUFNQyxFQUFVbEIsRUFBTSxPQUN0Qm1CLEVBQWVELEVBQVVyRSxPQUFRLFVBR2pDdUUsRUFBY3pFLEVBQVNBLEVBQU9pQixlQUFZVixFQUMxQ21FLEVBQWlCRCxFQUFjQSxFQUFZL0YsY0FBVzZCLEVBUzFELFNBQVNvRSxFQUFLQyxHQUNaLElBQUlDLEdBQVMsRUFDVHZGLEVBQVNzRixFQUFVQSxFQUFRdEYsT0FBUyxFQUd4QyxJQURBWCxLQUFLbUcsVUFDSUQsRUFBUXZGLEdBQVEsQ0FDdkIsSUFBSXlGLEVBQVFILEVBQVFDLEdBQ3BCbEcsS0FBS3FHLElBQUlELEVBQU0sR0FBSUEsRUFBTSxLQTJGN0IsU0FBU0UsRUFBVUwsR0FDakIsSUFBSUMsR0FBUyxFQUNUdkYsRUFBU3NGLEVBQVVBLEVBQVF0RixPQUFTLEVBR3hDLElBREFYLEtBQUttRyxVQUNJRCxFQUFRdkYsR0FBUSxDQUN2QixJQUFJeUYsRUFBUUgsRUFBUUMsR0FDcEJsRyxLQUFLcUcsSUFBSUQsRUFBTSxHQUFJQSxFQUFNLEtBeUc3QixTQUFTRyxFQUFTTixHQUNoQixJQUFJQyxHQUFTLEVBQ1R2RixFQUFTc0YsRUFBVUEsRUFBUXRGLE9BQVMsRUFHeEMsSUFEQVgsS0FBS21HLFVBQ0lELEVBQVF2RixHQUFRLENBQ3ZCLElBQUl5RixFQUFRSCxFQUFRQyxHQUNwQmxHLEtBQUtxRyxJQUFJRCxFQUFNLEdBQUlBLEVBQU0sS0EwRjdCLFNBQVNJLEVBQVlDLEVBQVFDLEVBQUsxRSxHQUNoQyxJQUFJMkUsRUFBV0YsRUFBT0MsR0FDaEJyQixFQUFlOUMsS0FBS2tFLEVBQVFDLElBQVFFLEVBQUdELEVBQVUzRSxVQUN4Q0osSUFBVkksR0FBeUIwRSxLQUFPRCxLQUNuQ0EsRUFBT0MsR0FBTzFFLEdBWWxCLFNBQVM2RSxFQUFhQyxFQUFPSixHQUUzQixJQURBLElBQUkvRixFQUFTbUcsRUFBTW5HLE9BQ1pBLEtBQ0wsR0FBSWlHLEVBQUdFLEVBQU1uRyxHQUFRLEdBQUkrRixHQUN2QixPQUFPL0YsRUFHWCxPQUFRLEVBa0dWLFNBQVNvRyxFQUFXOUcsRUFBS3lHLEdBQ3ZCLElBOERpQjFFLEVBQ2JnRixFQS9EQXpELEVBQU90RCxFQUFJZ0gsU0FDZixPQStEZ0IsV0FEWkQsU0FEYWhGLEVBN0RBMEUsS0ErRG1CLFVBQVJNLEdBQTRCLFVBQVJBLEdBQTRCLFdBQVJBLEVBQ3JELGNBQVZoRixFQUNVLE9BQVZBLEdBaEVEdUIsRUFBbUIsaUJBQVBtRCxFQUFrQixTQUFXLFFBQ3pDbkQsRUFBS3RELElBV1gsU0FBUzJGLEVBQVVhLEVBQVFDLEdBQ3pCLElBQUkxRSxFQXZnQk4sU0FBa0J5RSxFQUFRQyxHQUN4QixPQUFpQixNQUFWRCxPQUFpQjdFLEVBQVk2RSxFQUFPQyxHQXNnQi9CUSxDQUFTVCxFQUFRQyxHQUM3QixPQXhHRixTQUFzQjFFLEdBQ3BCLFNBQUttRixFQUFTbkYsS0FtS0VvRixFQW5LaUJwRixFQW9LeEJnRCxHQUFlQSxLQUFjb0MsTUEwTXhDLFNBQW9CcEYsR0FHbEIsSUFBSXFGLEVBQU1GLEVBQVNuRixHQUFTc0QsRUFBZS9DLEtBQUtQLEdBQVMsR0FDekQsTUE3ekJZLHFCQTZ6QkxxRixHQTV6QkksOEJBNHpCY0EsRUEvV1ZDLENBQVd0RixJQXpaNUIsU0FBc0JBLEdBR3BCLElBQUl1RixHQUFTLEVBQ2IsR0FBYSxNQUFUdkYsR0FBMEMsbUJBQWxCQSxFQUFNakMsU0FDaEMsSUFDRXdILEtBQVl2RixFQUFRLElBQ3BCLE1BQU93RixJQUVYLE9BQU9ELEVBZ1o2QkUsQ0FBYXpGLEdBQVV1RCxFQUFhbkIsR0FDekR4QixLQTZNakIsU0FBa0J3RSxHQUNoQixHQUFZLE1BQVJBLEVBQWMsQ0FDaEIsSUFDRSxPQUFPaEMsRUFBYTdDLEtBQUs2RSxHQUN6QixNQUFPSSxJQUNULElBQ0UsT0FBUUosRUFBTyxHQUNmLE1BQU9JLEtBRVgsTUFBTyxHQXROYUUsQ0FBUzFGLElBK0ovQixJQUFrQm9GLEVBNURUTyxDQUFhM0YsR0FBU0EsT0FBUUosRUFXdkMsU0FBU2dHLEVBQVE1RixFQUFPckIsR0FFdEIsU0FEQUEsRUFBbUIsTUFBVkEsRUFqa0JZLGlCQWlrQndCQSxLQUUxQixpQkFBVHFCLEdBQXFCcUMsRUFBU3pCLEtBQUtaLEtBQzFDQSxHQUFTLEdBQUtBLEVBQVEsR0FBSyxHQUFLQSxFQUFRckIsRUF2WDdDcUYsRUFBSzFELFVBQVU2RCxNQW5FZixXQUNFbkcsS0FBS2lILFNBQVdwQixFQUFlQSxFQUFhLE1BQVEsSUFtRXRERyxFQUFLMUQsVUFBa0IsT0F0RHZCLFNBQW9Cb0UsR0FDbEIsT0FBTzFHLEtBQUs2SCxJQUFJbkIsV0FBZTFHLEtBQUtpSCxTQUFTUCxJQXNEL0NWLEVBQUsxRCxVQUFVd0YsSUExQ2YsU0FBaUJwQixHQUNmLElBQUluRCxFQUFPdkQsS0FBS2lILFNBQ2hCLEdBQUlwQixFQUFjLENBQ2hCLElBQUkwQixFQUFTaEUsRUFBS21ELEdBQ2xCLE9BQU9hLElBQVd6RCxPQUFpQmxDLEVBQVkyRixFQUVqRCxPQUFPbEMsRUFBZTlDLEtBQUtnQixFQUFNbUQsR0FBT25ELEVBQUttRCxRQUFPOUUsR0FxQ3REb0UsRUFBSzFELFVBQVV1RixJQXpCZixTQUFpQm5CLEdBQ2YsSUFBSW5ELEVBQU92RCxLQUFLaUgsU0FDaEIsT0FBT3BCLE9BQTZCakUsSUFBZDJCLEVBQUttRCxHQUFxQnJCLEVBQWU5QyxLQUFLZ0IsRUFBTW1ELElBd0I1RVYsRUFBSzFELFVBQVUrRCxJQVhmLFNBQWlCSyxFQUFLMUUsR0FHcEIsT0FGV2hDLEtBQUtpSCxTQUNYUCxHQUFRYixRQUEwQmpFLElBQVZJLEVBQXVCOEIsRUFBaUI5QixFQUM5RGhDLE1Bb0hUc0csRUFBVWhFLFVBQVU2RCxNQWpGcEIsV0FDRW5HLEtBQUtpSCxTQUFXLElBaUZsQlgsRUFBVWhFLFVBQWtCLE9BckU1QixTQUF5Qm9FLEdBQ3ZCLElBQUluRCxFQUFPdkQsS0FBS2lILFNBQ1pmLEVBQVFXLEVBQWF0RCxFQUFNbUQsR0FFL0IsUUFBSVIsRUFBUSxJQUlSQSxHQURZM0MsRUFBSzVDLE9BQVMsRUFFNUI0QyxFQUFLd0UsTUFFTHJDLEVBQU9uRCxLQUFLZ0IsRUFBTTJDLEVBQU8sR0FFcEIsS0F5RFRJLEVBQVVoRSxVQUFVd0YsSUE3Q3BCLFNBQXNCcEIsR0FDcEIsSUFBSW5ELEVBQU92RCxLQUFLaUgsU0FDWmYsRUFBUVcsRUFBYXRELEVBQU1tRCxHQUUvQixPQUFPUixFQUFRLE9BQUl0RSxFQUFZMkIsRUFBSzJDLEdBQU8sSUEwQzdDSSxFQUFVaEUsVUFBVXVGLElBOUJwQixTQUFzQm5CLEdBQ3BCLE9BQU9HLEVBQWE3RyxLQUFLaUgsU0FBVVAsSUFBUSxHQThCN0NKLEVBQVVoRSxVQUFVK0QsSUFqQnBCLFNBQXNCSyxFQUFLMUUsR0FDekIsSUFBSXVCLEVBQU92RCxLQUFLaUgsU0FDWmYsRUFBUVcsRUFBYXRELEVBQU1tRCxHQU8vQixPQUxJUixFQUFRLEVBQ1YzQyxFQUFLOUQsS0FBSyxDQUFDaUgsRUFBSzFFLElBRWhCdUIsRUFBSzJDLEdBQU8sR0FBS2xFLEVBRVpoQyxNQWtHVHVHLEVBQVNqRSxVQUFVNkQsTUEvRG5CLFdBQ0VuRyxLQUFLaUgsU0FBVyxDQUNkLEtBQVEsSUFBSWpCLEVBQ1osSUFBTyxJQUFLTCxHQUFPVyxHQUNuQixPQUFVLElBQUlOLElBNERsQk8sRUFBU2pFLFVBQWtCLE9BL0MzQixTQUF3Qm9FLEdBQ3RCLE9BQU9LLEVBQVcvRyxLQUFNMEcsR0FBYSxPQUFFQSxJQStDekNILEVBQVNqRSxVQUFVd0YsSUFuQ25CLFNBQXFCcEIsR0FDbkIsT0FBT0ssRUFBVy9HLEtBQU0wRyxHQUFLb0IsSUFBSXBCLElBbUNuQ0gsRUFBU2pFLFVBQVV1RixJQXZCbkIsU0FBcUJuQixHQUNuQixPQUFPSyxFQUFXL0csS0FBTTBHLEdBQUttQixJQUFJbkIsSUF1Qm5DSCxFQUFTakUsVUFBVStELElBVm5CLFNBQXFCSyxFQUFLMUUsR0FFeEIsT0FEQStFLEVBQVcvRyxLQUFNMEcsR0FBS0wsSUFBSUssRUFBSzFFLEdBQ3hCaEMsTUFxT1QsSUFBSWdJLEVBQWVDLEdBQVEsU0FBU0MsR0E0U3BDLElBQWtCbEcsRUEzU2hCa0csRUE0U2dCLE9BREFsRyxFQTNTRWtHLEdBNFNLLEdBcGF6QixTQUFzQmxHLEdBRXBCLEdBQW9CLGlCQUFUQSxFQUNULE9BQU9BLEVBRVQsR0FBSW1HLEVBQVNuRyxHQUNYLE9BQU8rRCxFQUFpQkEsRUFBZXhELEtBQUtQLEdBQVMsR0FFdkQsSUFBSXVGLEVBQVV2RixFQUFRLEdBQ3RCLE1BQWtCLEtBQVZ1RixHQUFrQixFQUFJdkYsSUFBVSxJQUFhLEtBQU91RixFQTJaaENhLENBQWFwRyxHQTFTekMsSUFBSXVGLEVBQVMsR0FPYixPQU5JdEQsRUFBYXJCLEtBQUtzRixJQUNwQlgsRUFBTzlILEtBQUssSUFFZHlJLEVBQU96QyxRQUFRdkIsR0FBWSxTQUFTbUUsRUFBT0MsRUFBUUMsRUFBT0wsR0FDeERYLEVBQU85SCxLQUFLOEksRUFBUUwsRUFBT3pDLFFBQVF0QixFQUFjLE1BQVNtRSxHQUFVRCxNQUUvRGQsS0FVVCxTQUFTaUIsRUFBTXhHLEdBQ2IsR0FBb0IsaUJBQVRBLEdBQXFCbUcsRUFBU25HLEdBQ3ZDLE9BQU9BLEVBRVQsSUFBSXVGLEVBQVV2RixFQUFRLEdBQ3RCLE1BQWtCLEtBQVZ1RixHQUFrQixFQUFJdkYsSUFBVSxJQUFhLEtBQU91RixFQWtFOUQsU0FBU1UsRUFBUWIsRUFBTXFCLEdBQ3JCLEdBQW1CLG1CQUFSckIsR0FBdUJxQixHQUErQixtQkFBWkEsRUFDbkQsTUFBTSxJQUFJM0YsVUFodUJRLHVCQWt1QnBCLElBQUk0RixFQUFXLFdBQ2IsSUFBSUMsRUFBT0MsVUFDUGxDLEVBQU0rQixFQUFXQSxFQUFTSSxNQUFNN0ksS0FBTTJJLEdBQVFBLEVBQUssR0FDbkRHLEVBQVFKLEVBQVNJLE1BRXJCLEdBQUlBLEVBQU1qQixJQUFJbkIsR0FDWixPQUFPb0MsRUFBTWhCLElBQUlwQixHQUVuQixJQUFJYSxFQUFTSCxFQUFLeUIsTUFBTTdJLEtBQU0ySSxHQUU5QixPQURBRCxFQUFTSSxNQUFRQSxFQUFNekMsSUFBSUssRUFBS2EsR0FDekJBLEdBR1QsT0FEQW1CLEVBQVNJLE1BQVEsSUFBS2IsRUFBUWMsT0FBU3hDLEdBQ2hDbUMsRUFzQ1QsU0FBUzlCLEVBQUc1RSxFQUFPZ0gsR0FDakIsT0FBT2hILElBQVVnSCxHQUFVaEgsR0FBVUEsR0FBU2dILEdBQVVBLEVBbkMxRGYsRUFBUWMsTUFBUXhDLEVBNkRoQixJQUFJcEYsRUFBVUYsTUFBTUUsUUFtRHBCLFNBQVNnRyxFQUFTbkYsR0FDaEIsSUFBSWdGLFNBQWNoRixFQUNsQixRQUFTQSxJQUFrQixVQUFSZ0YsR0FBNEIsWUFBUkEsR0FnRHpDLFNBQVNtQixFQUFTbkcsR0FDaEIsTUFBdUIsaUJBQVRBLEdBdEJoQixTQUFzQkEsR0FDcEIsUUFBU0EsR0FBeUIsaUJBQVRBLEVBc0J0QmlILENBQWFqSCxJQTM0QkYsbUJBMjRCWXNELEVBQWUvQyxLQUFLUCxHQTREaER0QyxFQUFPRSxRQUpQLFNBQWE2RyxFQUFReUMsRUFBTWxILEdBQ3pCLE9BQWlCLE1BQVZ5RSxFQUFpQkEsRUExZTFCLFNBQWlCQSxFQUFReUMsRUFBTWxILEVBQU9tSCxHQUNwQyxJQUFLaEMsRUFBU1YsR0FDWixPQUFPQSxFQVNULElBTEEsSUFBSVAsR0FBUyxFQUNUdkYsR0FISnVJLEVBNEdGLFNBQWVsSCxFQUFPeUUsR0FDcEIsR0FBSXRGLEVBQVFhLEdBQ1YsT0FBTyxFQUVULElBQUlnRixTQUFjaEYsRUFDbEIsUUFBWSxVQUFSZ0YsR0FBNEIsVUFBUkEsR0FBNEIsV0FBUkEsR0FDL0IsTUFBVGhGLElBQWlCbUcsRUFBU25HLEtBR3ZCZ0MsRUFBY3BCLEtBQUtaLEtBQVcrQixFQUFhbkIsS0FBS1osSUFDMUMsTUFBVnlFLEdBQWtCekUsS0FBU1QsT0FBT2tGLEdBdEg5QjJDLENBQU1GLEVBQU16QyxHQUFVLENBQUN5QyxHQXFEaEMsU0FBa0JsSCxHQUNoQixPQUFPYixFQUFRYSxHQUFTQSxFQUFRZ0csRUFBYWhHLEdBdERQcUgsQ0FBU0gsSUFHN0J2SSxPQUNkMkksRUFBWTNJLEVBQVMsRUFDckI0SSxFQUFTOUMsRUFFSSxNQUFWOEMsS0FBb0JyRCxFQUFRdkYsR0FBUSxDQUN6QyxJQUFJK0YsRUFBTThCLEVBQU1VLEVBQUtoRCxJQUNqQnNELEVBQVd4SCxFQUVmLEdBQUlrRSxHQUFTb0QsRUFBVyxDQUN0QixJQUFJM0MsRUFBVzRDLEVBQU83QyxRQUVMOUUsS0FEakI0SCxFQUFXTCxFQUFhQSxFQUFXeEMsRUFBVUQsRUFBSzZDLFFBQVUzSCxLQUUxRDRILEVBQVdyQyxFQUFTUixHQUNoQkEsRUFDQ2lCLEVBQVFzQixFQUFLaEQsRUFBUSxJQUFNLEdBQUssSUFHekNNLEVBQVkrQyxFQUFRN0MsRUFBSzhDLEdBQ3pCRCxFQUFTQSxFQUFPN0MsR0FFbEIsT0FBT0QsRUErYzBCZ0QsQ0FBUWhELEVBQVF5QyxFQUFNbEgsSyx3RkNsOUI1QyxJQUFJLElBTEgsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixJQU1wQixRQUFlLFlBQWtCLEksMkJDVmpDLElBQ00wSCxFQWVGQyxFQUFZLFdBQ2QsSUFBSUQsRUFBTyxHQUNYLE9BQU8sU0FBa0JFLEdBQ3ZCLFFBQTRCLElBQWpCRixFQUFLRSxHQUF5QixDQUN2QyxJQUFJQyxFQUFjQyxTQUFTQyxjQUFjSCxHQUV6QyxHQUFJSSxPQUFPQyxtQkFBcUJKLGFBQXVCRyxPQUFPQyxrQkFDNUQsSUFHRUosRUFBY0EsRUFBWUssZ0JBQWdCQyxLQUMxQyxNQUFPM0MsR0FFUHFDLEVBQWMsS0FJbEJILEVBQUtFLEdBQVVDLEVBR2pCLE9BQU9ILEVBQUtFLElBcEJBLEdBd0JaUSxFQUFjLEdBRWxCLFNBQVNDLEVBQXFCQyxHQUc1QixJQUZBLElBQUkvQyxHQUFVLEVBRUxqSCxFQUFJLEVBQUdBLEVBQUk4SixFQUFZekosT0FBUUwsSUFDdEMsR0FBSThKLEVBQVk5SixHQUFHZ0ssYUFBZUEsRUFBWSxDQUM1Qy9DLEVBQVNqSCxFQUNULE1BSUosT0FBT2lILEVBR1QsU0FBU2dELEVBQWF6SyxFQUFNMEssR0FJMUIsSUFIQSxJQUFJQyxFQUFhLEdBQ2JDLEVBQWMsR0FFVHBLLEVBQUksRUFBR0EsRUFBSVIsRUFBS2EsT0FBUUwsSUFBSyxDQUNwQyxJQUFJSixFQUFPSixFQUFLUSxHQUNaWCxFQUFLNkssRUFBUUcsS0FBT3pLLEVBQUssR0FBS3NLLEVBQVFHLEtBQU96SyxFQUFLLEdBQ2xEMEssRUFBUUgsRUFBVzlLLElBQU8sRUFDMUIySyxFQUFhLEdBQUdsSyxPQUFPVCxFQUFJLEtBQUtTLE9BQU93SyxHQUMzQ0gsRUFBVzlLLEdBQU1pTCxFQUFRLEVBQ3pCLElBQUkxRSxFQUFRbUUsRUFBcUJDLEdBQzdCTyxFQUFNLENBQ1JDLElBQUs1SyxFQUFLLEdBQ1Y2SyxNQUFPN0ssRUFBSyxHQUNaOEssVUFBVzlLLEVBQUssS0FHSCxJQUFYZ0csR0FDRmtFLEVBQVlsRSxHQUFPK0UsYUFDbkJiLEVBQVlsRSxHQUFPZ0YsUUFBUUwsSUFFM0JULEVBQVkzSyxLQUFLLENBQ2Y2SyxXQUFZQSxFQUNaWSxRQUFTQyxFQUFTTixFQUFLTCxHQUN2QlMsV0FBWSxJQUloQlAsRUFBWWpMLEtBQUs2SyxHQUduQixPQUFPSSxFQUdULFNBQVNVLEVBQW1CWixHQUMxQixJQUFJYSxFQUFRdkIsU0FBU3dCLGNBQWMsU0FDL0JDLEVBQWFmLEVBQVFlLFlBQWMsR0FFdkMsUUFBZ0MsSUFBckJBLEVBQVdDLE1BQXVCLENBQzNDLElBQUlBLEVBQW1ELEtBRW5EQSxJQUNGRCxFQUFXQyxNQUFRQSxHQVF2QixHQUpBakssT0FBTzJELEtBQUtxRyxHQUFZRSxTQUFRLFNBQVUvRSxHQUN4QzJFLEVBQU1LLGFBQWFoRixFQUFLNkUsRUFBVzdFLE9BR1AsbUJBQW5COEQsRUFBUW1CLE9BQ2pCbkIsRUFBUW1CLE9BQU9OLE9BQ1YsQ0FDTCxJQUFJekIsRUFBU0QsRUFBVWEsRUFBUW1CLFFBQVUsUUFFekMsSUFBSy9CLEVBQ0gsTUFBTSxJQUFJZ0MsTUFBTSwyR0FHbEJoQyxFQUFPaUMsWUFBWVIsR0FHckIsT0FBT0EsRUFjVCxJQUNNUyxFQURGQyxHQUNFRCxFQUFZLEdBQ1QsU0FBaUI1RixFQUFPOEYsR0FFN0IsT0FEQUYsRUFBVTVGLEdBQVM4RixFQUNaRixFQUFVRyxPQUFPQyxTQUFTN0wsS0FBSyxRQUkxQyxTQUFTOEwsRUFBb0JkLEVBQU9uRixFQUFPa0csRUFBUXZCLEdBQ2pELElBQUlDLEVBQU1zQixFQUFTLEdBQUt2QixFQUFJRSxNQUFRLFVBQVUzSyxPQUFPeUssRUFBSUUsTUFBTyxNQUFNM0ssT0FBT3lLLEVBQUlDLElBQUssS0FBT0QsRUFBSUMsSUFJakcsR0FBSU8sRUFBTWdCLFdBQ1JoQixFQUFNZ0IsV0FBV0MsUUFBVVAsRUFBWTdGLEVBQU80RSxPQUN6QyxDQUNMLElBQUl5QixFQUFVekMsU0FBUzBDLGVBQWUxQixHQUNsQzJCLEVBQWFwQixFQUFNb0IsV0FFbkJBLEVBQVd2RyxJQUNibUYsRUFBTXFCLFlBQVlELEVBQVd2RyxJQUczQnVHLEVBQVc5TCxPQUNiMEssRUFBTXNCLGFBQWFKLEVBQVNFLEVBQVd2RyxJQUV2Q21GLEVBQU1RLFlBQVlVLElBS3hCLFNBQVNLLEVBQVd2QixFQUFPYixFQUFTSyxHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNaQyxFQUFZSCxFQUFJRyxVQWVwQixHQWJJRCxFQUNGTSxFQUFNSyxhQUFhLFFBQVNYLEdBRTVCTSxFQUFNd0IsZ0JBQWdCLFNBR3BCN0IsR0FBNkIsb0JBQVQvSCxPQUN0QjZILEdBQU8sdURBQXVEMUssT0FBTzZDLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVTBILE1BQWUsUUFNbElLLEVBQU1nQixXQUNSaEIsRUFBTWdCLFdBQVdDLFFBQVV4QixNQUN0QixDQUNMLEtBQU9PLEVBQU15QixZQUNYekIsRUFBTXFCLFlBQVlyQixFQUFNeUIsWUFHMUJ6QixFQUFNUSxZQUFZL0IsU0FBUzBDLGVBQWUxQixLQUk5QyxJQUFJaUMsRUFBWSxLQUNaQyxFQUFtQixFQUV2QixTQUFTN0IsRUFBU04sRUFBS0wsR0FDckIsSUFBSWEsRUFDQTRCLEVBQ0FiLEVBRUosR0FBSTVCLEVBQVF1QyxVQUFXLENBQ3JCLElBQUlHLEVBQWFGLElBQ2pCM0IsRUFBUTBCLElBQWNBLEVBQVkzQixFQUFtQlosSUFDckR5QyxFQUFTZCxFQUFvQmdCLEtBQUssS0FBTTlCLEVBQU82QixHQUFZLEdBQzNEZCxFQUFTRCxFQUFvQmdCLEtBQUssS0FBTTlCLEVBQU82QixHQUFZLFFBRTNEN0IsRUFBUUQsRUFBbUJaLEdBQzNCeUMsRUFBU0wsRUFBV08sS0FBSyxLQUFNOUIsRUFBT2IsR0FFdEM0QixFQUFTLFlBeEZiLFNBQTRCZixHQUUxQixHQUF5QixPQUFyQkEsRUFBTStCLFdBQ1IsT0FBTyxFQUdUL0IsRUFBTStCLFdBQVdWLFlBQVlyQixHQW1GekJnQyxDQUFtQmhDLElBS3ZCLE9BREE0QixFQUFPcEMsR0FDQSxTQUFxQnlDLEdBQzFCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPeEMsTUFBUUQsRUFBSUMsS0FBT3dDLEVBQU92QyxRQUFVRixFQUFJRSxPQUFTdUMsRUFBT3RDLFlBQWNILEVBQUlHLFVBQ25GLE9BR0ZpQyxFQUFPcEMsRUFBTXlDLFFBRWJsQixLQUtOMU0sRUFBT0UsUUFBVSxTQUFVRSxFQUFNMEssSUFDL0JBLEVBQVVBLEdBQVcsSUFHUnVDLFdBQTBDLGtCQUF0QnZDLEVBQVF1QyxZQUN2Q3ZDLEVBQVF1QyxnQkFyT1ksSUFBVHJELElBTVRBLEVBQU93QyxRQUFRbEMsUUFBVUYsVUFBWUEsU0FBU3lELE1BQVF2RCxPQUFPd0QsT0FHeEQ5RCxJQWdPVCxJQUFJK0QsRUFBa0JsRCxFQUR0QnpLLEVBQU9BLEdBQVEsR0FDMEIwSyxHQUN6QyxPQUFPLFNBQWdCa0QsR0FHckIsR0FGQUEsRUFBVUEsR0FBVyxHQUUyQixtQkFBNUNuTSxPQUFPZSxVQUFVdkMsU0FBU3dDLEtBQUttTCxHQUFuQyxDQUlBLElBQUssSUFBSXBOLEVBQUksRUFBR0EsRUFBSW1OLEVBQWdCOU0sT0FBUUwsSUFBSyxDQUMvQyxJQUNJNEYsRUFBUW1FLEVBREtvRCxFQUFnQm5OLElBRWpDOEosRUFBWWxFLEdBQU8rRSxhQUtyQixJQUZBLElBQUkwQyxFQUFxQnBELEVBQWFtRCxFQUFTbEQsR0FFdEM1SixFQUFLLEVBQUdBLEVBQUs2TSxFQUFnQjlNLE9BQVFDLElBQU0sQ0FDbEQsSUFFSWdOLEVBQVN2RCxFQUZLb0QsRUFBZ0I3TSxJQUlLLElBQW5Dd0osRUFBWXdELEdBQVEzQyxhQUN0QmIsRUFBWXdELEdBQVExQyxVQUVwQmQsRUFBWTFFLE9BQU9rSSxFQUFRLElBSS9CSCxFQUFrQkUsTSxxSEMxUVQsRUFBQUUsY0FBZ0IsQ0FDekJDLEtBQU0saUJBQ05DLGVBQWdCLG9DQUdQLEVBQUFDLE9BQVV0SCxHQUF3QixHQUFHLEVBQUFtSCxjQUFjQyxRQUFRcEgsSUFDM0QsRUFBQXVILFNBQVlBLEdBQTZCLEdBQUcsRUFBQUosY0FBY0Usa0JBQWtCRSxLLGlnQkNKekYsZUFDQSxZQVFBLE1BQWFDLFVBQW9DQyxnQkFJN0MsWUFBWTFILEVBQWUrRCxHQUN2QjRELE1BQU0zSCxFQUFRK0QsR0FIbEIsbUJBS0ksRUFBQXhLLEtBQUksRUFBa0JxTyxVQUFVQyxPQUFPQyxnQkFHcEMsWUFBWUMsR0FDZkMsS0FBS0MsU0FBU0MsYUFBYSxFQUFBZCxjQUFjQyxLQUFNLHdCQUF5QixDQUNwRXBMLEtBQU0sRUFBQXNMLE9BQU8sdUNBQ2JZLE1BQU8sRUFBQVosT0FBTyx3Q0FDZGEsWUFBWSxFQUNaN0gsS0FBTWtILEVBQ05ZLEtBQU0sZ0JBR1ZaLEVBQTRCTSxxQkFBdUJBLEVBR2hELDRCQUNILE1BQU8sSUFDQUosTUFBTVcsZUFDVHBQLEdBQUksR0FBRyxFQUFBa08sY0FBY0Msc0NBQ3JCa0IsTUFBTyxFQUFBaEIsT0FBTyxzQ0FDZGlCLFFBQVMsQ0FBQyxpQ0FDVmhCLFNBQVUsRUFBQUEsU0FBUyxzQ0FDbkJpQixNQUFPLElBQ1BDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGdCQUFnQixFQUNoQkMsZUFBZSxFQUNmQyxlQUFlLEdBSWhCLFFBQVFDLEdBTVgsTUFBTyxDQUNIbEIsY0FOa0IsRUFBQXZPLEtBQUEsR0FBb0JDLEtBQUl5UCxJQUFnQixJQUN2REEsRUFDSFosS0FBTVksRUFBYVosS0FBS2EsTUFBTSxLQUFLLFFBUWpDLG9CQUFvQkMsRUFBZUMsR0FDekMsSUFBS0EsRUFDRCxPQUdKLE1BQU10QixFQUFnQ2hOLE9BQU8wRSxRQUFRNEosR0FDaERDLFFBQ0csQ0FBQ3ZCLEdBQWdCckYsRUFBTWxILEtBQVdrSCxFQUFLNkcsV0FBVyxLQUM1Q3hCLEVBQ0EsVUFBSUEsRUFBZXJGLEVBQU1sSCxJQUMvQixJQUdSLElBQUssTUFBTTBOLEtBQWdCbkIsRUFDdkJtQixFQUFhWixLQUFPLEdBQUdZLEVBQWFaLFFBQVFZLEVBQWEvUCxXQUd2RDhPLEtBQUtDLFNBQVNySSxJQUFJLEVBQUF3SCxjQUFjQyxLQUFNLGdCQUFpQlMsR0FHMUQsa0JBQWtCeUIsR0FDckI1QixNQUFNNkIsa0JBQWtCRCxHQUV4QkEsRUFBS0UsS0FBSywwQkFBMEJDLEdBQUcsUUFBU25RLEtBQUtvUSwyQkFBMkJqRCxLQUFLbk4sT0FDckZnUSxFQUFLRSxLQUFLLHVCQUF1QkMsR0FBRyxRQUFTblEsS0FBS3FRLGtDQUFrQ2xELEtBQUtuTixPQUN6RmdRLEVBQUtFLEtBQUsseUJBQXlCQyxHQUFHLFFBQVNuUSxLQUFLc1EsMEJBQTBCbkQsS0FBS25OLE9BRy9FLDJCQUEyQnVRLEdBQy9CQSxFQUFNQyxpQkFDTixNQUFNQyxFQUFTRixFQUFNRyxjQUVyQixPQUFRRCxFQUFPRSxRQUFRQyxRQUNuQixJQUFLLFNBRUQsWUFEQTVRLEtBQUs2USxlQUdULElBQUssU0FFRCxZQURBN1EsS0FBSzhRLGFBQWFMLElBTXRCLGVBQ0osRUFBQXpRLEtBQUEsR0FBb0JQLEtBQUssQ0FDckJFLEdBQUlvUixXQUNKbkMsTUFBTyxhQUNQRSxLQUFNLHVCQUVWOU8sS0FBS2dSLFNBR0QsYUFBYUMsR0FDakIsTUFDTUMsRUFEd0JELEVBQVlFLFFBQXFCLG1CQUN2QlIsUUFBUU8sU0FFaEQsRUFBQWxSLEtBQUksRUFBa0IsRUFBQUEsS0FBQSxHQUFvQmlNLFFBQU9tRixHQUFVQSxFQUFPelIsS0FBT3VSLEtBQ3pFbFIsS0FBS2dSLFNBR0Qsa0NBQWtDVCxHQUN0Q0EsRUFBTUMsaUJBQ04sTUFBTWEsRUFBYWQsRUFBTUcsY0FDbkJoQyxFQUFXMkMsRUFBV0YsUUFBUSxtQkFBbUJwSCxjQUEyQiwyQkFFOUUyRSxJQUNpRCxXQUFoQ0EsRUFBU2lDLFFBQVFXLFlBRzlCNUMsRUFBU2lDLFFBQVFXLFdBQWEsUUFDOUJELEVBQVdFLGVBQWUsQ0FBRUMsU0FBVSxTQUFVQyxNQUFPLFFBQVNDLE9BQVEsYUFFeEVoRCxFQUFTaUMsUUFBUVcsV0FBYSxVQUtsQyw0QkFDVyxJQUFJSyxPQUFPLENBQ3RCM0MsTUFBTyxpQkFDUDdPLFFBQVMsK0ZBQ1R5UixRQUFTLENBQ0xDLEdBQUksQ0FDQWpELE1BQU8sS0FDUGtELFNBQVUsS0FDTixFQUFBOVIsS0FBSSxFQUFrQnFPLFVBQVVILEVBQTRCTSx1QkFDNUR4TyxLQUFLZ1IsV0FHYmUsT0FBUSxDQUNKbkQsTUFBTyxXQUdmb0QsUUFBUyxXQUdOaEIsUUFBTyxJQW5KdEIsZ0MsdWJDVEEsZUFDQSxTQUlBLDBDQUNJLG1CQUVPLE9BQ0gsRUFBQWhSLEtBQUksRUFBMEJzTyxPQUFPQyxlQUVyQ3ZPLEtBQUtpUyxtQkFDTGpTLEtBQUtrUyxnQkFFTCxFQUFBaEUsNEJBQTRCaUUsS0FBSyxFQUFELFNBRzVCLG1CQUNKMUQsS0FBS0MsU0FBUzBELFNBQVMsRUFBQXZFLGNBQWNDLEtBQU0sZ0JBQWlCLENBQ3hEdUUsTUFBTyxRQUNQQyxRQUFRLEVBQ1JDLFNBQVUsS0FBV3ZTLEtBQUt3UywyQkFJMUIsZ0JBQ0pDLE1BQU10QyxHQUFHLFNBQVMsS0FBV25RLEtBQUt3UywyQkFDbENDLE1BQU10QyxHQUFHLHlCQUF5QixDQUFDdUMsRUFBWXRCLE1BQzFDQSxFQUFPdEMsTUFBUXNDLEVBQU90QyxLQUFLYSxNQUFNLFFBSW5DLDhCQUNILE1BQU1wQixRQUFzQkUsS0FBS0MsU0FBUzVHLElBQUksRUFBQStGLGNBQWNDLEtBQU0saUJBQ2xFUSxPQUFPQyxjQUFnQkEsR0FBaUIsRUFBSixVLG9IQ2xDNUMsMEJBQ0ksWUNGQW9FLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJqUixJQUFqQmtSLEVBQ0gsT0FBT0EsRUFBYWxULFFBR3JCLElBQUlGLEVBQVNpVCxFQUF5QkUsR0FBWSxDQUNqRGxULEdBQUlrVCxFQUVKalQsUUFBUyxJQU9WLE9BSEFtVCxFQUFvQkYsR0FBVXRRLEtBQUs3QyxFQUFPRSxRQUFTRixFQUFRQSxFQUFPRSxRQUFTZ1QsR0FHcEVsVCxFQUFPRSxRQ3BCZmdULEVBQW9CdlEsRUFBSzNDLElBQ3hCLElBQUlzVCxFQUFTdFQsR0FBVUEsRUFBT3VULFdBQzdCLElBQU92VCxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQWtULEVBQW9CTSxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxHQ0xSSixFQUFvQk0sRUFBSSxDQUFDdFQsRUFBU3dULEtBQ2pDLElBQUksSUFBSTFNLEtBQU8wTSxFQUNYUixFQUFvQnpRLEVBQUVpUixFQUFZMU0sS0FBU2tNLEVBQW9CelEsRUFBRXZDLEVBQVM4RyxJQUM1RW5GLE9BQU84UixlQUFlelQsRUFBUzhHLEVBQUssQ0FBRTRNLFlBQVksRUFBTXhMLElBQUtzTCxFQUFXMU0sTUNKM0VrTSxFQUFvQnJPLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZnUCxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU92VCxNQUFRLElBQUkyRSxTQUFTLGNBQWIsR0FDZCxNQUFPNkMsR0FDUixHQUFzQixpQkFBWHdDLE9BQXFCLE9BQU9BLFFBTGpCLEdDQXhCNEksRUFBb0J6USxFQUFJLENBQUMwSSxFQUFLMkksSUFBVWpTLE9BQU9lLFVBQVUrQyxlQUFlOUMsS0FBS3NJLEVBQUsySSxHQ0NsRlosRUFBb0JhLEVBQUs3VCxJQUNILG9CQUFYeUIsUUFBMEJBLE9BQU9xUyxhQUMxQ25TLE9BQU84UixlQUFlelQsRUFBU3lCLE9BQU9xUyxZQUFhLENBQUUxUixNQUFPLFdBRTdEVCxPQUFPOFIsZUFBZXpULEVBQVMsYUFBYyxDQUFFb0MsT0FBTyxLLG1CQ0x2RCxPQUdBLGNBQ0EsU0FFTTJSLEVBQXNDLENBQ3hDLEVBQUFDLG9CQUNBLEVBQUFDLG1CQUVFQyxFQUE4QixHQUVwQ3JCLE1BQU1zQixLQUFLLFFBQVEsS0FDZixJQUFLLE1BQU1DLEtBQVdMLEVBQW9CLENBQ3RDLE1BQU1NLEVBQWdCLElBQUlELEVBRTFCQyxFQUFjOUIsT0FFZDJCLEVBQWlCclUsS0FBS3dVLEdBTzFCQyxXQUFXQyxlQUFlLGNBQWMsSUFBSXhMLElBQW9CQSxFQUFLbkcsTUFBTSxHQUFJLEdBQUduQyxLQUFLLFUiLCJmaWxlIjoibW9kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciBhdXRvIDFmcjtcXG4gIHJvdy1nYXA6IDRweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMzBweDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIHBhZGRpbmc6IDhweDtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCBoZWFkZXIge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM3ODJlMjI7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIGhlYWRlciA+IGgyIHtcXG4gIGp1c3RpZnktc2VsZjogbGVmdDtcXG4gIGFsaWduLXNlbGY6IGVuZDtcXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIGhlYWRlciA+IGEge1xcbiAganVzdGlmeS1zZWxmOiByaWdodDtcXG4gIGFsaWduLXNlbGY6IGVuZDtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCBoZWFkZXIgPiBhID4gaDIge1xcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciB7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDMycHggYXV0byAzMnB4O1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIGF1dG87XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M5YzdiODtcXG4gIGNvbHVtbi1nYXA6IDRweDtcXG4gIHJvdy1nYXA6IDRweDtcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3QtaWNvbiB7XFxuICBib3JkZXI6IG5vbmU7XFxuICB3aWR0aDogYXV0bztcXG4gIGhlaWdodDogYXV0bztcXG4gIGp1c3RpZnktc2VsZjogY2VudGVyO1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgcGFkZGluZzogMnB4IDAgMnB4IDA7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1uYW1lIHtcXG4gIGp1c3RpZnktc2VsZjogbGVmdDtcXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IC5zdGF0dXMtZWZmZWN0LW5hbWUgaDMge1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IC5zdGF0dXMtZWZmZWN0LWNvbnRyb2xzIHtcXG4gIGp1c3RpZnktc2VsZjogY2VudGVyO1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3Mge1xcbiAgZ3JpZC1jb2x1bW46IDEgLyBzcGFuIDM7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1zZXR0aW5nc1tkYXRhLXZpc2liaWxpdHk9XFxcImhpZGRlblxcXCJdIHtcXG4gIGhlaWdodDogMHB4O1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3NbZGF0YS12aXNpYmlsaXR5PVxcXCJzaG93blxcXCJdIHtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuLmFjdGl2ZS1zdGF0dXMtZWZmZWN0LXNldHRpbmdzIC5jb250YWluZXItZ3JpZCAuc3RhdHVzLWVmZmVjdHMtY29udGFpbmVyIC5zdGF0dXMtZWZmZWN0IC5zdGF0dXMtZWZmZWN0LXNldHRpbmdzIGRpdi50YWJzIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyO1xcbiAgcm93LWdhcDogNHB4O1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgZGl2LnRhYnMgLnNlbGVjdG9yIHtcXG4gIG9wYWNpdHk6IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyBkaXYudGFicyAuc2VsZWN0b3I6Y2hlY2tlZCArIC5sYWJlbCB7XFxuICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggcmVkO1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgZGl2LnRhYnMgLnNlbGVjdG9yOmNoZWNrZWQgKyAubGFiZWwgKyAucGFuZWwge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyBkaXYudGFicyAubGFiZWwge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhbGlnbi1zZWxmOiBlbmQ7XFxuICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGdyaWQtcm93OiAxO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2M5YzdiODtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzljN2I4O1xcbiAgcGFkZGluZzogOHB4O1xcbn1cXG4uYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgLmNvbnRhaW5lci1ncmlkIC5zdGF0dXMtZWZmZWN0cy1jb250YWluZXIgLnN0YXR1cy1lZmZlY3QgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3MgZGl2LnRhYnMgLmxhYmVsOmhvdmVyIHtcXG4gIHRleHQtc2hhZG93OiAwIDAgMTBweCByZWQ7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciAuc3RhdHVzLWVmZmVjdCAuc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyBkaXYudGFicyAucGFuZWwge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGdyaWQtcm93OiAyO1xcbiAgZ3JpZC1jb2x1bW46IDEgLyBzcGFuIDI7XFxufVxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyAuY29udGFpbmVyLWdyaWQgZm9vdGVyIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxuICBjb2x1bW4tZ2FwOiAycHg7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3N0eWxlcy9hY3RpdmUtc3RhdHVzLWVmZmVjdHMtc2V0dGluZ3MubGVzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFFQTtFQUVJLGFBQUE7RUFDQSxnQ0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0FBRko7QUFSQTtFQWFNLGdDQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0FBRk47QUFiQTtFQWtCUSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0FBRlI7QUFwQkE7RUEwQlEsbUJBQUE7RUFDQSxlQUFBO0FBSFI7QUF4QkE7RUE4QlUsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUhWO0FBN0JBO0VBc0NNLGNBQUE7QUFOTjtBQWhDQTtFQXlDUSxhQUFBO0VBQ0EscUNBQUE7RUFDQSw2QkFBQTtFQUNBLGdDQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBTlI7QUExQ0E7RUFtRFUsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0FBTlY7QUFsREE7RUE0RFUsa0JBQUE7RUFDQSxrQkFBQTtBQVBWO0FBdERBO0VBZ0VZLFVBQUE7RUFDQSxTQUFBO0FBUFo7QUExREE7RUFzRVUsb0JBQUE7RUFDQSxrQkFBQTtBQVRWO0FBOURBO0VBMkVVLHVCQUFBO0VBQ0EsWUFBQTtBQVZWO0FBWVU7RUFDRSxXQUFBO0FBVlo7QUFhVTtFQUNFLFlBQUE7QUFYWjtBQXhFQTtFQXVGWSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSw0QkFBQTtFQUNBLFlBQUE7QUFaWjtBQTlFQTtFQTZGYyxVQUFBO0VBQ0Esa0JBQUE7QUFaZDtBQWVnQjtFQUNFLHlCQUFBO0FBYmxCO0FBZ0JnQjtFQUNFLGNBQUE7QUFkbEI7QUF4RkE7RUE0R2MsV0FBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQ0FBQTtFQUNBLFlBQUE7QUFqQmQ7QUFtQmM7RUFDRSx5QkFBQTtBQWpCaEI7QUF2R0E7RUE2SGMsYUFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtBQW5CZDtBQTVHQTtFQXVJTSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0FBeEJOXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBlZmZlY3QtaWNvbi1zaXplOiAzMnB4O1xcblxcbi5hY3RpdmUtc3RhdHVzLWVmZmVjdC1zZXR0aW5ncyB7XFxuICAuY29udGFpbmVyLWdyaWQge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciBhdXRvIDFmcjtcXG4gICAgcm93LWdhcDogNHB4O1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMzBweDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgcGFkZGluZzogOHB4O1xcblxcbiAgICBoZWFkZXIge1xcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNzgyZTIyO1xcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcblxcbiAgICAgID4gaDIge1xcbiAgICAgICAganVzdGlmeS1zZWxmOiBsZWZ0O1xcbiAgICAgICAgYWxpZ24tc2VsZjogZW5kO1xcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gICAgICAgIHBhZGRpbmc6IDA7XFxuICAgICAgICBtYXJnaW46IDA7XFxuICAgICAgfVxcblxcbiAgICAgID4gYSB7XFxuICAgICAgICBqdXN0aWZ5LXNlbGY6IHJpZ2h0O1xcbiAgICAgICAgYWxpZ24tc2VsZjogZW5kO1xcblxcbiAgICAgICAgPiBoMiB7XFxuICAgICAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XFxuICAgICAgICAgIHBhZGRpbmc6IDA7XFxuICAgICAgICAgIG1hcmdpbjogMDtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG5cXG4gICAgLnN0YXR1cy1lZmZlY3RzLWNvbnRhaW5lciB7XFxuICAgICAgb3ZlcmZsb3c6IGF1dG87XFxuXFxuICAgICAgLnN0YXR1cy1lZmZlY3Qge1xcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogQGVmZmVjdC1pY29uLXNpemUgYXV0byAzMnB4O1xcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIGF1dG87XFxuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M5YzdiODtcXG4gICAgICAgIGNvbHVtbi1nYXA6IDRweDtcXG4gICAgICAgIHJvdy1nYXA6IDRweDtcXG4gICAgICAgIHBhZGRpbmctdG9wOiA0cHg7XFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3QtaWNvbiB7XFxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgd2lkdGg6IGF1dG87XFxuICAgICAgICAgIGhlaWdodDogYXV0bztcXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XFxuICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgICAgICAgcGFkZGluZzogMnB4IDAgMnB4IDA7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuc3RhdHVzLWVmZmVjdC1uYW1lIHtcXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBsZWZ0O1xcbiAgICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuXFxuICAgICAgICAgIGgzIHtcXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgICAgICAgIG1hcmdpbjogMDtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3QtY29udHJvbHMge1xcbiAgICAgICAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3Mge1xcbiAgICAgICAgICBncmlkLWNvbHVtbjogMSAvIHNwYW4gMztcXG4gICAgICAgICAgcGFkZGluZzogMHB4O1xcblxcbiAgICAgICAgICAmW2RhdGEtdmlzaWJpbGl0eT1cXFwiaGlkZGVuXFxcIl0ge1xcbiAgICAgICAgICAgIGhlaWdodDogMHB4O1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgICZbZGF0YS12aXNpYmlsaXR5PVxcXCJzaG93blxcXCJdIHtcXG4gICAgICAgICAgICBoZWlnaHQ6IGF1dG87XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZGl2LnRhYnMge1xcbiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnI7XFxuICAgICAgICAgICAgcm93LWdhcDogNHB4O1xcblxcbiAgICAgICAgICAgIC5zZWxlY3RvciB7XFxuICAgICAgICAgICAgICBvcGFjaXR5OiAwO1xcbiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcblxcbiAgICAgICAgICAgICAgJjpjaGVja2VkIHtcXG4gICAgICAgICAgICAgICAgJiArIC5sYWJlbCB7XFxuICAgICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IHJlZDtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICAmICsgLmxhYmVsICsgLnBhbmVsIHtcXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAubGFiZWwge1xcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgICAgICBhbGlnbi1zZWxmOiBlbmQ7XFxuICAgICAgICAgICAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgICAgIGdyaWQtcm93OiAxO1xcbiAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2M5YzdiODtcXG4gICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzljN2I4O1xcbiAgICAgICAgICAgICAgcGFkZGluZzogOHB4O1xcblxcbiAgICAgICAgICAgICAgJjpob3ZlciB7XFxuICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCByZWQ7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIC5wYW5lbCB7XFxuICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgICAgICAgZ3JpZC1yb3c6IDI7XFxuICAgICAgICAgICAgICBncmlkLWNvbHVtbjogMSAvIHNwYW4gMjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG5cXG4gICAgZm9vdGVyIHtcXG4gICAgICBkaXNwbGF5OiBncmlkO1xcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXG4gICAgICBjb2x1bW4tZ2FwOiAycHg7XFxuICAgIH1cXG4gIH1cXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlTGVhZGluZ0RvdCA9IC9eXFwuLyxcbiAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgcGF0aCA9IGlzS2V5KHBhdGgsIG9iamVjdCkgPyBbcGF0aF0gOiBjYXN0UGF0aChwYXRoKTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ1RvUGF0aCh2YWx1ZSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZShmdW5jdGlvbihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChyZUxlYWRpbmdEb3QudGVzdChzdHJpbmcpKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gQXNzaWduIGNhY2hlIHRvIGBfLm1lbW9pemVgLlxubWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAqIGBwYXRoYCBjcmVhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gKiAvLyA9PiA0XG4gKlxuICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICogLy8gPT4gNVxuICovXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldDtcbiIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMl0hLi9hY3RpdmUtc3RhdHVzLWVmZmVjdHMtc2V0dGluZ3MubGVzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiZXhwb3J0IGNvbnN0IE1PRFVMRV9DT05GSUcgPSB7XHJcbiAgICBOQU1FOiBcImJ5dGVzLTVlLXRvb2xzXCIsXHJcbiAgICBURU1QTEFURVNfUk9PVDogXCJtb2R1bGVzL2J5dGVzLTVlLXRvb2xzL3RlbXBsYXRlc1wiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vZEtleSA9IChrZXk6IHN0cmluZyk6IHN0cmluZyA9PiBgJHtNT0RVTEVfQ09ORklHLk5BTUV9LiR7a2V5fWA7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZSA9ICh0ZW1wbGF0ZTogc3RyaW5nKTogc3RyaW5nID0+IGAke01PRFVMRV9DT05GSUcuVEVNUExBVEVTX1JPT1R9LyR7dGVtcGxhdGV9YDsiLCJpbXBvcnQgdHlwZSB7IFN0YXR1c0VmZmVjdCB9IGZyb20gXCIuXCI7XHJcblxyXG5pbXBvcnQgeyBtb2RLZXksIE1PRFVMRV9DT05GSUcsIHRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgc2V0IGZyb20gXCJsb2Rhc2guc2V0XCI7XHJcblxyXG5pbnRlcmZhY2UgRGF0YSB7XHJcbiAgICBzdGF0dXNFZmZlY3RzOiBTdGF0dXNFZmZlY3RbXTtcclxufVxyXG5cclxudHlwZSBUcmlnZ2VyZWRFdmVudCA9IEpRdWVyeS5UcmlnZ2VyZWRFdmVudDx1bmtub3duLCB1bmtub3duLCBIVE1MRWxlbWVudD47XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aXZlU3RhdHVzRWZmZWN0c1NldHRpbmdzIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uPEZvcm1BcHBsaWNhdGlvbi5PcHRpb25zLCBEYXRhPiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkZWZhdWx0U3RhdHVzRWZmZWN0czogU3RhdHVzRWZmZWN0W107XHJcbiAgICAjc3RhdHVzRWZmZWN0czogU3RhdHVzRWZmZWN0W107XHJcblxyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0PzogRGF0YSwgb3B0aW9ucz86IEZvcm1BcHBsaWNhdGlvbi5PcHRpb25zKSB7XHJcbiAgICAgICAgc3VwZXIob2JqZWN0LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy4jc3RhdHVzRWZmZWN0cyA9IGR1cGxpY2F0ZShDT05GSUcuc3RhdHVzRWZmZWN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbml0KGRlZmF1bHRTdGF0dXNFZmZlY3RzOiBTdGF0dXNFZmZlY3RbXSk6IHZvaWQge1xyXG4gICAgICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXJNZW51KE1PRFVMRV9DT05GSUcuTkFNRSwgXCJhY3RpdmUtc3RhdHVzLWVmZmVjdHNcIiwge1xyXG4gICAgICAgICAgICBuYW1lOiBtb2RLZXkoXCJhY3RpdmUtc3RhdHVzLWVmZmVjdHMuc2V0dGluZ3MtbmFtZVwiKSxcclxuICAgICAgICAgICAgbGFiZWw6IG1vZEtleShcImFjdGl2ZS1zdGF0dXMtZWZmZWN0cy5zZXR0aW5ncy1sYWJlbFwiKSxcclxuICAgICAgICAgICAgcmVzdHJpY3RlZDogdHJ1ZSxcclxuICAgICAgICAgICAgdHlwZTogQWN0aXZlU3RhdHVzRWZmZWN0c1NldHRpbmdzLFxyXG4gICAgICAgICAgICBpY29uOiBcImZhcyBmYS1jb2dzXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgQWN0aXZlU3RhdHVzRWZmZWN0c1NldHRpbmdzLmRlZmF1bHRTdGF0dXNFZmZlY3RzID0gZGVmYXVsdFN0YXR1c0VmZmVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKTogRm9ybUFwcGxpY2F0aW9uLk9wdGlvbnMge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLnN1cGVyLmRlZmF1bHRPcHRpb25zLFxyXG4gICAgICAgICAgICBpZDogYCR7TU9EVUxFX0NPTkZJRy5OQU1FfS5hY3RpdmUtc3RhdHVzLWVmZmVjdHMuc2V0dGluZ3NgLFxyXG4gICAgICAgICAgICB0aXRsZTogbW9kS2V5KFwiYWN0aXZlLXN0YXR1cy1lZmZlY3RzLmNvbmZpZy10aXRsZVwiKSxcclxuICAgICAgICAgICAgY2xhc3NlczogW1wiYWN0aXZlLXN0YXR1cy1lZmZlY3Qtc2V0dGluZ3NcIl0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZShcInNldHRpbmdzL2FjdGl2ZS1zdGF0dXMtZWZmZWN0cy5oYnNcIiksXHJcbiAgICAgICAgICAgIHdpZHRoOiA1MjUsXHJcbiAgICAgICAgICAgIGhlaWdodDogNDAwLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBzdWJtaXRPbkNoYW5nZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHN1Ym1pdE9uQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBjbG9zZU9uU3VibWl0OiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERhdGEoX29wdGlvbnM/OiBBcHBsaWNhdGlvbi5SZW5kZXJPcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzRWZmZWN0cyA9IHRoaXMuI3N0YXR1c0VmZmVjdHMubWFwKHN0YXR1c0VmZmVjdCA9PiAoe1xyXG4gICAgICAgICAgICAuLi5zdGF0dXNFZmZlY3QsXHJcbiAgICAgICAgICAgIGljb246IHN0YXR1c0VmZmVjdC5pY29uLnNwbGl0KFwiI1wiKVswXVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzRWZmZWN0c1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIF91cGRhdGVPYmplY3QoX2V2ZW50OiBFdmVudCwgZm9ybURhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmICghZm9ybURhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzRWZmZWN0czogU3RhdHVzRWZmZWN0W10gPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSlcclxuICAgICAgICAgICAgLnJlZHVjZShcclxuICAgICAgICAgICAgICAgIChzdGF0dXNFZmZlY3RzLCBbcGF0aCwgdmFsdWVdKSA9PiBwYXRoLnN0YXJ0c1dpdGgoXCIjXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzdGF0dXNFZmZlY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZXQoc3RhdHVzRWZmZWN0cywgcGF0aCwgdmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgW11cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBzdGF0dXNFZmZlY3Qgb2Ygc3RhdHVzRWZmZWN0cykge1xyXG4gICAgICAgICAgICBzdGF0dXNFZmZlY3QuaWNvbiA9IGAke3N0YXR1c0VmZmVjdC5pY29ufSMke3N0YXR1c0VmZmVjdC5pZH1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoTU9EVUxFX0NPTkZJRy5OQU1FLCBcInN0YXR1c0VmZmVjdHNcIiwgc3RhdHVzRWZmZWN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWw6IEpRdWVyeSkge1xyXG4gICAgICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xyXG5cclxuICAgICAgICBodG1sLmZpbmQoXCIuc3RhdHVzLWVmZmVjdC1jb250cm9sXCIpLm9uKFwiY2xpY2tcIiwgdGhpcy5vblN0YXR1c0VmZmVjdENvbnRyb2xDbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoXCIuc3RhdHVzLWVmZmVjdC1uYW1lXCIpLm9uKFwiY2xpY2tcIiwgdGhpcy5vblN0YXR1c0VmZmVjdFNldHRpbmdzVG9nZ2xlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaHRtbC5maW5kKFwiLnN0YXR1cy1lZmZlY3RzLXJlc2V0XCIpLm9uKFwiY2xpY2tcIiwgdGhpcy5vblN0YXR1c0VmZmVjdHNSZXNldENsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25TdGF0dXNFZmZlY3RDb250cm9sQ2xpY2soZXZlbnQ6IFRyaWdnZXJlZEV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGJ1dHRvbi5kYXRhc2V0LmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFwiY3JlYXRlXCI6IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRWZmZWN0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUVmZmVjdChidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRWZmZWN0KCkge1xyXG4gICAgICAgIHRoaXMuI3N0YXR1c0VmZmVjdHMucHVzaCh7XHJcbiAgICAgICAgICAgIGlkOiByYW5kb21JRCgpLFxyXG4gICAgICAgICAgICBsYWJlbDogXCJOZXcgRWZmZWN0XCIsXHJcbiAgICAgICAgICAgIGljb246IFwiaWNvbnMvc3ZnL2F1cmEuc3ZnXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVsZXRlRWZmZWN0KGV2ZW50VGFyZ2V0OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0VmZmVjdENvbnRhaW5lciA9IGV2ZW50VGFyZ2V0LmNsb3Nlc3Q8SFRNTEVsZW1lbnQ+KFwiLnN0YXR1cy1lZmZlY3RcIik7XHJcbiAgICAgICAgY29uc3QgZWZmZWN0SWQgPSBzdGF0dXNFZmZlY3RDb250YWluZXI/LmRhdGFzZXQuZWZmZWN0SWQ7XHJcblxyXG4gICAgICAgIHRoaXMuI3N0YXR1c0VmZmVjdHMgPSB0aGlzLiNzdGF0dXNFZmZlY3RzLmZpbHRlcihlZmZlY3QgPT4gZWZmZWN0LmlkICE9PSBlZmZlY3RJZCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uU3RhdHVzRWZmZWN0U2V0dGluZ3NUb2dnbGVDbGljayhldmVudDogVHJpZ2dlcmVkRXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHRvZ2dsZUxpbmsgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdG9nZ2xlTGluay5jbG9zZXN0KFwiLnN0YXR1cy1lZmZlY3RcIik/LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiLnN0YXR1cy1lZmZlY3Qtc2V0dGluZ3NcIik7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncykge1xyXG4gICAgICAgICAgICBjb25zdCBpc0hpZGRlbiA9IHNldHRpbmdzLmRhdGFzZXQudmlzaWJpbGl0eSA9PT0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0hpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuZGF0YXNldC52aXNpYmlsaXR5ID0gXCJzaG93blwiO1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlTGluay5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiLCBibG9jazogXCJzdGFydFwiLCBpbmxpbmU6IFwibmVhcmVzdFwiIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuZGF0YXNldC52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uU3RhdHVzRWZmZWN0c1Jlc2V0Q2xpY2soKSB7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nID0gbmV3IERpYWxvZyh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIlJlc2V0IERlZmF1bHRzXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgYWxsIGNoYW5nZXMgYW5kIHJlc2V0IHRvIHRoZSBkZWZhdWx0IHN0YXR1cyBlZmZlY3RzPzwvcD5cIixcclxuICAgICAgICAgICAgYnV0dG9uczoge1xyXG4gICAgICAgICAgICAgICAgb2s6IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJPa1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3N0YXR1c0VmZmVjdHMgPSBkdXBsaWNhdGUoQWN0aXZlU3RhdHVzRWZmZWN0c1NldHRpbmdzLmRlZmF1bHRTdGF0dXNFZmZlY3RzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FuY2VsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2FuY2VsXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmYXVsdDogXCJjYW5jZWxcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkaWFsb2cucmVuZGVyKHRydWUpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB0eXBlIHsgRmVhdHVyZSB9IGZyb20gXCIuLi8uLi9mZWF0dXJlXCI7XHJcblxyXG5pbXBvcnQgeyBNT0RVTEVfQ09ORklHIH0gZnJvbSBcIi4uLy4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MgfSBmcm9tIFwiLi9BY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3NcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFN0YXR1c0VmZmVjdCA9IHR5cGVvZiBDT05GSUcuc3RhdHVzRWZmZWN0c1swXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmVTdGF0dXNFZmZlY3RzIGltcGxlbWVudHMgRmVhdHVyZSB7XHJcbiAgICAjb3JpZ2luYWxTdGF0dXNFZmZlY3RzITogU3RhdHVzRWZmZWN0W107XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy4jb3JpZ2luYWxTdGF0dXNFZmZlY3RzID0gQ09ORklHLnN0YXR1c0VmZmVjdHM7XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJIb29rcygpO1xyXG5cclxuICAgICAgICBBY3RpdmVTdGF0dXNFZmZlY3RzU2V0dGluZ3MuaW5pdCh0aGlzLiNvcmlnaW5hbFN0YXR1c0VmZmVjdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVnaXN0ZXJTZXR0aW5ncygpOiB2b2lkIHtcclxuICAgICAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKE1PRFVMRV9DT05GSUcuTkFNRSwgXCJzdGF0dXNFZmZlY3RzXCIsIHtcclxuICAgICAgICAgICAgc2NvcGU6IFwid29ybGRcIixcclxuICAgICAgICAgICAgY29uZmlnOiBmYWxzZSxcclxuICAgICAgICAgICAgb25DaGFuZ2U6ICgpID0+IHZvaWQgdGhpcy5vdmVycmlkZVN0YXR1c0VmZmVjdHMoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVnaXN0ZXJIb29rcygpOiB2b2lkIHtcclxuICAgICAgICBIb29rcy5vbihcInJlYWR5XCIsICgpID0+IHZvaWQgdGhpcy5vdmVycmlkZVN0YXR1c0VmZmVjdHMoKSk7XHJcbiAgICAgICAgSG9va3Mub24oXCJwcmVDcmVhdGVBY3RpdmVFZmZlY3RcIiwgKF86IHVua25vd24sIGVmZmVjdDogU3RhdHVzRWZmZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIFtlZmZlY3QuaWNvbl0gPSBlZmZlY3QuaWNvbi5zcGxpdChcIiNcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG92ZXJyaWRlU3RhdHVzRWZmZWN0cygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBzdGF0dXNFZmZlY3RzID0gYXdhaXQgZ2FtZS5zZXR0aW5ncy5nZXQoTU9EVUxFX0NPTkZJRy5OQU1FLCBcInN0YXR1c0VmZmVjdHNcIikgYXMgU3RhdHVzRWZmZWN0W10gfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIENPTkZJRy5zdGF0dXNFZmZlY3RzID0gc3RhdHVzRWZmZWN0cyA/PyB0aGlzLiNvcmlnaW5hbFN0YXR1c0VmZmVjdHM7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBGZWF0dXJlIH0gZnJvbSBcIi4uLy4uL2ZlYXR1cmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2tlbkhvdmVyRGlzcGxheSBpbXBsZW1lbnRzIEZlYXR1cmUge1xyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICAvL1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBcIi4uL3N0eWxlcy9hY3RpdmUtc3RhdHVzLWVmZmVjdHMtc2V0dGluZ3MubGVzc1wiO1xuXG5pbXBvcnQgdHlwZSB7IEZlYXR1cmUsIEZlYXR1cmVTdGF0aWMgfSBmcm9tIFwiLi9mZWF0dXJlXCI7XG5pbXBvcnQgeyBBY3RpdmVTdGF0dXNFZmZlY3RzIH0gZnJvbSBcIi4vZmVhdHVyZXMvYWN0aXZlLXN0YXR1cy1lZmZlY3RzXCI7XG5pbXBvcnQgeyBUb2tlbkhvdmVyRGlzcGxheSB9IGZyb20gXCIuL2ZlYXR1cmVzL3Rva2VuLWhvdmVyLWRpc3BsYXlcIjtcblxuY29uc3QgQVZBSUxBQkxFX0ZFQVRVUkVTOiBGZWF0dXJlU3RhdGljW10gPSBbXG4gICAgQWN0aXZlU3RhdHVzRWZmZWN0cyxcbiAgICBUb2tlbkhvdmVyRGlzcGxheVxuXTtcbmNvbnN0IEVOQUJMRURfRkVBVFVSRVM6IEZlYXR1cmVbXSA9IFtdO1xuXG5Ib29rcy5vbmNlKFwiaW5pdFwiLCAoKSA9PiB7XG4gICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIEFWQUlMQUJMRV9GRUFUVVJFUykge1xuICAgICAgICBjb25zdCBhY3RpdmVGZWF0dXJlID0gbmV3IGZlYXR1cmUoKTtcblxuICAgICAgICBhY3RpdmVGZWF0dXJlLmluaXQoKTtcblxuICAgICAgICBFTkFCTEVEX0ZFQVRVUkVTLnB1c2goYWN0aXZlRmVhdHVyZSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJIYW5kbGViYXJzSGVscGVycygpO1xufSk7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlcnMoKSB7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcImI1ZV9jb25jYXRcIiwgKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gYXJncy5zbGljZSgwLCAtMSkuam9pbihcIlwiKSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9